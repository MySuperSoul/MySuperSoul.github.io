<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">
<meta name="google-site-verification" content="7LSmUZy8Q4YDUNKKdehjSOm19BfZkmsgS9hDwrgVWOo" />
<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
<style>
    .pace .pace-progress {
        background: #1E92FB; /*进度条颜色*/
        height: 3px;
    }
    .pace .pace-progress-inner {
         box-shadow: 0 0 10px #1E92FB, 0 0 5px     #1E92FB; /*阴影颜色*/
    }
    .pace .pace-activity {
        border-top-color: #1E92FB;    /*上边框颜色*/
        border-left-color: #1E92FB;    /*左边框颜色*/
    }
</style>
<div class="top-scroll-bar"></div>







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/32x32.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/16x16.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="leetcode,algorithm," />










<meta name="description" content="This post will mainly and continuously contain the leetcode algorithm problems’ solutions. Trying to force myself to learn something everyday and practice programming skills everyday!">
<meta property="og:type" content="article">
<meta property="og:title" content="leetcode-solutions">
<meta property="og:url" content="http://mysupersoul.github.io/2020/08/06/leetcode-solutions/index.html">
<meta property="og:site_name" content="Huangyifei&#39;s Blog">
<meta property="og:description" content="This post will mainly and continuously contain the leetcode algorithm problems’ solutions. Trying to force myself to learn something everyday and practice programming skills everyday!">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-08-06T04:23:54.000Z">
<meta property="article:modified_time" content="2020-08-31T15:29:12.628Z">
<meta property="article:author" content="huangyifei">
<meta property="article:tag" content="leetcode">
<meta property="article:tag" content="algorithm">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: false,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://mysupersoul.github.io/2020/08/06/leetcode-solutions/"/>





  <title>leetcode-solutions | Huangyifei's Blog</title>
  








<meta name="generator" content="Hexo 4.2.1"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <a href="https://github.com/MySuperSoul" target="_blank" rel="noopener" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Huangyifei's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Never forget to say "thanks"</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Archives
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mysupersoul.github.io/2020/08/06/leetcode-solutions/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="huangyifei">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars2.githubusercontent.com/u/28039767?s=400&u=43e653f3e1abe2fa56182133d26fc581ed4b2b40&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Huangyifei's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">leetcode-solutions</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-06T12:23:54+08:00">
                2020-08-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/08/06/leetcode-solutions/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2020/08/06/leetcode-solutions/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2020/08/06/leetcode-solutions/" class="leancloud_visitors" data-flag-title="leetcode-solutions">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  10.7k words
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  66 minutes
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>This post will mainly and continuously contain the leetcode algorithm problems’ solutions. Trying to force myself to learn something everyday and practice programming skills everyday!</p>
<a id="more"></a>
<h3 id="001-two-sum"><a href="#001-two-sum" class="headerlink" title="001-two-sum"></a><a href="https://leetcode.com/problems/two-sum/" target="_blank" rel="noopener">001-two-sum</a></h3><p>The problem is trying to find two indices in the input array which their sum is equal to the target.</p>
<p>So we can use the <code>unordered_map</code> to store the value and index. And to test: <code>1: target - num is in the unordered map</code>, <code>2: if contains, the another index should be different from current index.</code></p>
<p>Then we get the two index and return. Here is the solution code.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; twoSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; indices_map;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; results;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line">        indices_map[nums[i]] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> another_num = target - nums[i];</span><br><span class="line">        <span class="keyword">if</span> (indices_map.count(another_num) != <span class="number">0</span> &amp;&amp; i != indices_map[another_num]) &#123;</span><br><span class="line">            results.push_back(i);</span><br><span class="line">            results.push_back(indices_map[another_num]);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> results;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="002-Add-Two-Numbers"><a href="#002-Add-Two-Numbers" class="headerlink" title="002-Add-Two-Numbers"></a><a href="https://leetcode.com/problems/add-two-numbers/" target="_blank" rel="noopener">002-Add-Two-Numbers</a></h3><p>This problem mainly inspect the addition of strings(a little like). Because the integer can be very large, bigger than long long, like 1e30 etc. </p>
<p>So we need to find a way to add the two number, that is the string addition. We just need one <code>carry</code> to represent carry bit, initial is 0. </p>
<p>Everytime after we add the correponding position number, the remaining number will be <code>(sum + carry) % 10</code>, and the carry bit will update as <code>(sum + carry) / 10</code>.</p>
<p>Remember that if at last the <code>carry != 0</code>, then we need another node to put the carry in.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ListNode* <span class="title">addTwoNumbers</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">    ListNode* head = <span class="keyword">new</span> ListNode;</span><br><span class="line">    ListNode* cur = head;</span><br><span class="line">    <span class="keyword">int</span> carry = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (l1 != <span class="literal">nullptr</span> &amp;&amp; l2 != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span> num = l1-&gt;val + l2-&gt;val;</span><br><span class="line">        ListNode* ptr = <span class="keyword">new</span> ListNode((num + carry) % <span class="number">10</span>);</span><br><span class="line">        carry = (num + carry) / <span class="number">10</span>;</span><br><span class="line">        cur-&gt;next = ptr;</span><br><span class="line">        cur = cur-&gt;next;</span><br><span class="line">        l1 = l1-&gt;next; l2 = l2-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (l1 != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        cur-&gt;next = l1;</span><br><span class="line">        <span class="keyword">while</span> (l1 != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            cur = l1;</span><br><span class="line">            <span class="keyword">int</span> num = l1-&gt;val + carry;</span><br><span class="line">            l1-&gt;val = num % <span class="number">10</span>;</span><br><span class="line">            carry = num / <span class="number">10</span>;</span><br><span class="line">            l1 = l1-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (l2 != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        cur-&gt;next = l2;</span><br><span class="line">        <span class="keyword">while</span> (l2 != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            cur = l2;</span><br><span class="line">            <span class="keyword">int</span> num = l2-&gt;val + carry;</span><br><span class="line">            l2-&gt;val = num % <span class="number">10</span>;</span><br><span class="line">            carry = num / <span class="number">10</span>;</span><br><span class="line">            l2 = l2-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (carry != <span class="number">0</span>) &#123;</span><br><span class="line">        cur-&gt;next = <span class="keyword">new</span> ListNode(carry);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head-&gt;next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="003-Longest-Substring-Without-Repeating-Characters"><a href="#003-Longest-Substring-Without-Repeating-Characters" class="headerlink" title="003-Longest-Substring-Without-Repeating-Characters"></a><a href="https://leetcode.com/problems/longest-substring-without-repeating-characters/" target="_blank" rel="noopener">003-Longest-Substring-Without-Repeating-Characters</a></h3><p>This problem is trying to find the <code>longest substring without repreating</code>. The naive way to solve is to examine every substring in input string, but the time complexity is to high(O(n^3)). So I take one optimized solution.</p>
<p>Suppose we have input string <code>abcdcae</code>, and we need one array to examine whether one character is in current substring, so we need <code>int s_index_map[128]</code>, initial is <code>-1</code>, later we will use this to store index.</p>
<p>Then we loop the string, and to test if the current character is in the current substring. we need other params: <code>max_num: the final result</code>, <code>tmp_num: current substring length</code>.</p>
<ul>
<li><p><strong>not in</strong></p>
<ul>
<li><code>tmp_num += 1</code></li>
<li><code>s_index_map[char]</code> = current_index</li>
</ul>
</li>
<li><p><strong>is in</strong></p>
<ul>
<li><code>max_num = max(max_num, tmp_num)</code></li>
<li>find out the old index of the repreated character, which is <code>old_index = s_index_map[c]</code></li>
<li>update the index <code>s_index_map[c] = current_index</code></li>
<li>update tmp_num to length of new substring: <code>tmp_num = cur - old</code></li>
<li>erase the values from the start position to old index position.</li>
</ul>
</li>
</ul>
<p>Take the example of <code>abcdcae</code>, <code>abcd</code> is easy, after these, s[a] = 0, s[b] = 1, … etc. And then <code>c</code> is in, we meet one repeated character right? So take a look of our table, the old <code>c</code> is in <code>index: 2</code> position. So the new substring should start from <code>d</code>, which is <code>index: 3</code> position right, otherwise we still have two <code>c</code>‘s in our string.</p>
<p>So first update <code>max_num = 4</code>, then the <code>old_index = 2</code>, update the index of <code>c</code>, which is set <code>s[c] = 4</code>. Then update the <code>tmp_num</code> to length of new substring <code>&quot;dc&quot;</code>, which is <code>new - old = 4 - 2 = 2</code>. Final step, we should erase the origin substring <code>&#39;a&#39; and &#39;b&#39;</code> index to <code>-1</code>, since they are not in our new substring anymore.</p>
<p>After looping all the characters, do not  forget to take the max value of <code>max_num</code> and <code>tmp_num</code> to get the final answer.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> s_index_map[<span class="number">128</span>];</span><br><span class="line">    <span class="built_in">memset</span>(s_index_map, <span class="number">-1</span>, <span class="keyword">sizeof</span>(s_index_map));</span><br><span class="line">    <span class="keyword">int</span> max_num = <span class="number">0</span>; <span class="keyword">int</span> tmp_num = <span class="number">0</span>; <span class="keyword">int</span> start_pos = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">char</span> cur = s[i];</span><br><span class="line">        <span class="keyword">if</span> (s_index_map[cur] == <span class="number">-1</span>) &#123;</span><br><span class="line">            tmp_num += <span class="number">1</span>;</span><br><span class="line">            s_index_map[cur] = i;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            max_num = <span class="built_in">std</span>::max(max_num, tmp_num); <span class="comment">// first update max_num, since we met overlap</span></span><br><span class="line">            <span class="keyword">int</span> old_index = s_index_map[cur]; <span class="comment">// old index</span></span><br><span class="line">            s_index_map[cur] = i; <span class="comment">// update index</span></span><br><span class="line">            tmp_num = i - old_index; <span class="comment">// new length</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">/*erase the values between old char and new char*/</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = start_pos; j &lt; old_index; j++) s_index_map[s[j]] = <span class="number">-1</span>;</span><br><span class="line">            start_pos = old_index + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    max_num = <span class="built_in">std</span>::max(max_num, tmp_num); <span class="comment">// final update</span></span><br><span class="line">    <span class="keyword">return</span> max_num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="004-Median-of-Two-Sorted-Arrays"><a href="#004-Median-of-Two-Sorted-Arrays" class="headerlink" title="004-Median of Two Sorted Arrays"></a><a href="https://leetcode.com/problems/median-of-two-sorted-arrays/" target="_blank" rel="noopener">004-Median of Two Sorted Arrays</a></h3><p>This problem is to find the median number of two sorted arrays. So we just need another array to store the numbers of two arrays in increasing order. And if we find the middle position, just break.</p>
<p>We have two situations to handle, which is the total length is odd or even.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">findMedianSortedArrays</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> l = nums1.size() + nums2.size(); <span class="keyword">double</span> result = <span class="number">0.0</span>; <span class="keyword">bool</span> find_flag = <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;nums; nums.reserve(l); <span class="keyword">int</span> index = <span class="number">0</span>, i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (i &lt; nums1.size() &amp;&amp; j &lt; nums2.size()) &#123;</span><br><span class="line">        nums[index++] = nums1[i] &lt; nums2[j] ? nums1[i++] : nums2[j++];</span><br><span class="line">        <span class="keyword">if</span> (index == l / <span class="number">2</span> + <span class="number">1</span>) &#123;</span><br><span class="line">            find_flag = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; nums1.size() &amp;&amp; !find_flag) &#123;</span><br><span class="line">        nums[index++] = nums1[i++];</span><br><span class="line">        <span class="keyword">if</span> (index == l / <span class="number">2</span> + <span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (j &lt; nums2.size() &amp;&amp; !find_flag) &#123;</span><br><span class="line">        nums[index++] = nums2[j++];</span><br><span class="line">        <span class="keyword">if</span> (index == l / <span class="number">2</span> + <span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (l % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        result = (nums[l / <span class="number">2</span>] + nums[l / <span class="number">2</span> - <span class="number">1</span>]) / <span class="number">2.0</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        result = nums[l / <span class="number">2</span>] * <span class="number">1.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="005-Longest-Palindromic-Substring"><a href="#005-Longest-Palindromic-Substring" class="headerlink" title="005-Longest-Palindromic-Substring"></a><a href="https://leetcode.com/problems/longest-palindromic-substring/" target="_blank" rel="noopener">005-Longest-Palindromic-Substring</a></h3><p>This problem is trying to find the lngest palindromic substring of the input string. Suppose the input string s is <code>abcbd</code>, then the output should be <code>bcb</code>.</p>
<p>(1) <strong>Naive solution</strong></p>
<p>The first solution is very simple and easy to understand. I use the two pointer to represent the start and end of one substring. And then loop the <code>length</code> from <code>len(s)</code> to <code>1</code>. Once we found one palindromic substring, then return the result string.</p>
<p>To judge one string is palindromic or not is simple, just to see whether the corresponding character of head and tail is the same.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isPalindrome</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">const</span> <span class="built_in">string</span>&amp; s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">bool</span> isp = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> ll = l, rr = r; ll &lt;= rr; ll++, rr--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s[ll] != s[rr]) &#123;</span><br><span class="line">            isp = <span class="literal">false</span>; <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> isp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">longestPalindrome</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> l = s.length(); <span class="keyword">bool</span> find = <span class="literal">false</span>; <span class="keyword">int</span> i, length;</span><br><span class="line">    <span class="keyword">if</span> (s.length() &lt;= <span class="number">1</span>) <span class="keyword">return</span> s;</span><br><span class="line">    <span class="keyword">for</span> (length = l; length &gt; <span class="number">0</span>; length--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt;= l - length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i] != s[i + length - <span class="number">1</span>]) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (isPalindrome(i, i + length - <span class="number">1</span>, s)) &#123;</span><br><span class="line">                find = <span class="literal">true</span>; <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (find) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s.substr(i, length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>(2) <strong>Dynamic programming solution</strong></p>
<p>In this solution, we define that <code>dp[i][j]</code> represents whether the substring from position <code>i</code> to <code>j</code> is palindromic. </p>
<p>The initial state is <code>dp[i][i] = true</code> and <code>dp[i][i + 1] = s[i] == s[i + 1]</code>. </p>
<p>And we know that if one substring is palindromic, then we add two left and right letters, if the two letter is the same, then the new string is palindromic. Take one example, <code>aba</code> is palindromic, then <code>cabac</code> must be palindromic since <code>c</code> and <code>c</code> is the same.</p>
<p>Then we can deduct the transition equation: <code>dp[i][j] = dp[i + 1][j - 1] &amp;&amp; s[i] == s[j]</code>. So we just need to loop length from 3 to <code>len(s)</code>, we can get the dp array now, the time conplexity is $O(n^2)$.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">longestPalindrome</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s.length() &lt;= <span class="number">1</span>) <span class="keyword">return</span> s;</span><br><span class="line">    <span class="keyword">auto</span> length = s.length();</span><br><span class="line">    <span class="keyword">bool</span> dp[length][length];</span><br><span class="line">    <span class="comment">// initial</span></span><br><span class="line">    <span class="keyword">int</span> max_num = <span class="number">-1</span>, mi = <span class="number">0</span>, mj = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        dp[i][i] = <span class="literal">true</span>;</span><br><span class="line">        dp[i][i + <span class="number">1</span>] = s[i] == s[i + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (dp[i][i + <span class="number">1</span>] == <span class="literal">true</span>) &#123;</span><br><span class="line">            max_num = <span class="number">2</span>;</span><br><span class="line">            mi = i; mj = i + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dp[length - <span class="number">1</span>][length - <span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">// transition equation</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> t_length = <span class="number">3</span>; t_length &lt;= length; t_length++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= length - t_length; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> j = i + t_length - <span class="number">1</span>;</span><br><span class="line">            dp[i][j] = dp[i + <span class="number">1</span>][j - <span class="number">1</span>] &amp;&amp; s[i] == s[j];</span><br><span class="line">            <span class="keyword">if</span> (dp[i][j] == <span class="literal">true</span> &amp;&amp; t_length &gt; max_num) &#123;</span><br><span class="line">                max_num = t_length;</span><br><span class="line">                mi = i; mj = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s.substr(mi, mj - mi + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="006-ZigZag-Conversion"><a href="#006-ZigZag-Conversion" class="headerlink" title="006-ZigZag-Conversion"></a><a href="https://leetcode.com/problems/zigzag-conversion/" target="_blank" rel="noopener">006-ZigZag-Conversion</a></h3><p>This problem is to write the input string in a new zigzag form. So I use two-dimension vector to simulate the writing process. Notice one particur case: if <code>numRows = 1</code>, our index should just stay as <code>0</code>. Here is the code:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">convert</span><span class="params">(<span class="built_in">string</span> s, <span class="keyword">int</span> numRows)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; &gt; c_vec (numRows); <span class="keyword">int</span> c = <span class="number">0</span>; <span class="keyword">bool</span> up_flag = <span class="literal">true</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (c == <span class="number">0</span>) up_flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (c == numRows - <span class="number">1</span>) up_flag = <span class="literal">false</span>;</span><br><span class="line">        c_vec[c].push_back(s[i]);</span><br><span class="line">        <span class="keyword">if</span> (numRows != <span class="number">1</span>) &#123;</span><br><span class="line">            c = up_flag ? c + <span class="number">1</span> : c - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">string</span> r;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; c_vec.size(); i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; c_vec[i].size(); j++) &#123;</span><br><span class="line">            r.push_back(c_vec[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="007-Reverse-Integer"><a href="#007-Reverse-Integer" class="headerlink" title="007-Reverse-Integer"></a><a href="https://leetcode.com/problems/reverse-integer/" target="_blank" rel="noopener">007-Reverse-Integer</a></h3><p>The problem is easy, we only need to consider in which case the reversed number will overflow. Since we will use annotation <code>r</code> to represent the intermediate result. So if <code>r &lt;= INT_MAX / 10</code>, then we can continue, otherwise just return 0.</p>
<p>The other thing is that we simplily notice the sign that is ok!</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">reverse</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sign = (x &lt; <span class="number">0</span>) ? <span class="number">-1</span> : <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> r = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (x != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (r &lt;= INT_MAX / <span class="number">10</span>) &#123;</span><br><span class="line">            r = r * <span class="number">10</span> + <span class="built_in">abs</span>(x % <span class="number">10</span>);</span><br><span class="line">            x /= <span class="number">10</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r * sign;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="008-String-to-Integer-atoi"><a href="#008-String-to-Integer-atoi" class="headerlink" title="008-String to Integer (atoi)"></a><a href="https://leetcode.com/problems/string-to-integer-atoi/" target="_blank" rel="noopener">008-String to Integer (atoi)</a></h3><ul>
<li>First find out the first not <code>whitespace</code> character</li>
<li>if not <code>-</code> or <code>+</code> or digits, return 0</li>
<li>if <code>-</code> or <code>+</code>, add to minus flag <code>-1</code>, <code>1</code>.</li>
<li><p>Then judge whether overflow</p>
<ul>
<li><code>result &gt; INT_MAX / 10) || (result == INT_MAX / 10 &amp;&amp; c &gt;= 7</code> return <code>INT_MAX</code> when result is positive</li>
<li><code>result &lt; INT_MIN / 10 || (result == INT_MIN / 10 &amp;&amp; c &gt;= 8</code> return <code>INT_MIN</code> when result is negative</li>
<li><code>INT_MAX=2147483647</code>, <code>INT_MIN=-2147483648</code>.</li>
</ul>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">myAtoi</span><span class="params">(<span class="built_in">string</span> str)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (str == <span class="string">""</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">string</span> s; <span class="keyword">int</span> minus_flag = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// find the first not ""</span></span><br><span class="line">    <span class="keyword">int</span> index = str.find_first_not_of(<span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">if</span> (index == <span class="number">-1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (str[index] == <span class="string">'-'</span> || str[index] == <span class="string">'+'</span>) &#123;</span><br><span class="line">        minus_flag = str[index] == <span class="string">'-'</span> ? <span class="number">-1</span> : <span class="number">1</span>;</span><br><span class="line">        index++;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (!<span class="built_in">isdigit</span>(str[index])) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (; index &lt; str.length(); index++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">isdigit</span>(str[index])) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">int</span> c = str[index] - <span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">if</span> (minus_flag == <span class="number">1</span> &amp;&amp; (result &gt; INT_MAX / <span class="number">10</span>) || (result == INT_MAX / <span class="number">10</span> &amp;&amp; c &gt;= <span class="number">7</span>)) <span class="keyword">return</span> INT_MAX;</span><br><span class="line">        <span class="keyword">if</span> (minus_flag == <span class="number">-1</span> &amp;&amp; (result &lt; INT_MIN / <span class="number">10</span> || (result == INT_MIN / <span class="number">10</span> &amp;&amp; c &gt;= <span class="number">8</span>))) <span class="keyword">return</span> INT_MIN;</span><br><span class="line">        result = result * <span class="number">10</span> + minus_flag * c;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="009-Palindrome-Number"><a href="#009-Palindrome-Number" class="headerlink" title="009-Palindrome-Number"></a><a href="https://leetcode.com/problems/palindrome-number/" target="_blank" rel="noopener">009-Palindrome-Number</a></h3><p>This problem is very easy. Since the negative number is definitely not palindromic, so <code>if x &lt; 0: return false</code>. Then just get every number of input x, and to loop from left to right and right to left, to examine whether the corresponding character is the same.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isPalindrome</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (x == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">int</span> vec[<span class="number">10</span>]; <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (x != <span class="number">0</span>) &#123;</span><br><span class="line">        vec[index++] = x % <span class="number">10</span>;</span><br><span class="line">        x /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = index - <span class="number">1</span>; i &lt;= j; i++, j--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (vec[i] != vec[j]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="011-Container-With-Most-Water"><a href="#011-Container-With-Most-Water" class="headerlink" title="011-Container-With-Most-Water"></a><a href="https://leetcode.com/problems/container-with-most-water/" target="_blank" rel="noopener">011-Container-With-Most-Water</a></h3><p>The thought is a little like greedy algorithm. We will compare the left and right height, and to replace the shorter one with the adjacent line. Since the area is depends on the shorter line, so we will replace shorter one inorder to get larger area.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">maxArea</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; height)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, j = height.size() - <span class="number">1</span>; <span class="keyword">int</span> max_num = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= j) &#123;</span><br><span class="line">        max_num = max(max_num, (j - i) * min(height[i], height[j]));</span><br><span class="line">        height[i] &lt; height[j] ? i++ : j--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max_num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="012-Integer-to-Roman"><a href="#012-Integer-to-Roman" class="headerlink" title="012-Integer-to-Roman"></a><a href="https://leetcode.com/problems/integer-to-roman/" target="_blank" rel="noopener">012-Integer-to-Roman</a></h3><p>Just loop the predefined symbols and corresponding ints. If contain some symbols multiple times, just add into result string.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">intToRoman</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; symbols &#123;<span class="string">"M"</span>, <span class="string">"CM"</span>, <span class="string">"D"</span>, <span class="string">"CD"</span>, <span class="string">"C"</span>, <span class="string">"XC"</span>, <span class="string">"L"</span>, <span class="string">"XL"</span>, <span class="string">"X"</span>, <span class="string">"IX"</span>, <span class="string">"V"</span>, <span class="string">"IV"</span>, <span class="string">"I"</span>&#125;;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; symbol_ints &#123;<span class="number">1000</span>, <span class="number">900</span>, <span class="number">500</span>, <span class="number">400</span>, <span class="number">100</span>, <span class="number">90</span>, <span class="number">50</span>, <span class="number">40</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; symbols.size() &amp;&amp; num != <span class="number">0</span>;) &#123;</span><br><span class="line">        <span class="keyword">if</span> (num / symbol_ints[i] != <span class="number">0</span>) &#123;</span><br><span class="line">            s += symbols[i];</span><br><span class="line">            num -= symbol_ints[i];</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="013-Roman-to-Integer"><a href="#013-Roman-to-Integer" class="headerlink" title="013-Roman-to-Integer"></a><a href="https://leetcode.com/problems/roman-to-integer/" target="_blank" rel="noopener">013-Roman-to-Integer</a></h3><p>My solution is first to insert the pairs into one map. And then to scan the input string, first to find whether <code>&quot;xx&quot;</code> is in the input string, if not then find <code>&quot;x&quot;</code>, and add the corresponding result can get the final answer.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">romanToInt</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; symbols &#123;<span class="string">"M"</span>, <span class="string">"CM"</span>, <span class="string">"D"</span>, <span class="string">"CD"</span>, <span class="string">"C"</span>, <span class="string">"XC"</span>, <span class="string">"L"</span>, <span class="string">"XL"</span>, <span class="string">"X"</span>, <span class="string">"IX"</span>, <span class="string">"V"</span>, <span class="string">"IV"</span>, <span class="string">"I"</span>&#125;;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; symbol_ints &#123;<span class="number">1000</span>, <span class="number">900</span>, <span class="number">500</span>, <span class="number">400</span>, <span class="number">100</span>, <span class="number">90</span>, <span class="number">50</span>, <span class="number">40</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; symbol_map; <span class="keyword">int</span> c = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; symbols.size(); i++) &#123;</span><br><span class="line">        symbol_map[symbols[i]] = symbol_ints[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length();) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == s.length() - <span class="number">1</span>) &#123;</span><br><span class="line">            c += symbol_map[s.substr(i)];</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (symbol_map.count(s.substr(i, <span class="number">2</span>)) != <span class="number">0</span>) &#123;</span><br><span class="line">                c += symbol_map[s.substr(i, <span class="number">2</span>)];</span><br><span class="line">                i += <span class="number">2</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                c += symbol_map[s.substr(i, <span class="number">1</span>)];</span><br><span class="line">                i += <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="014-Longest-Common-Prefix"><a href="#014-Longest-Common-Prefix" class="headerlink" title="014-Longest-Common-Prefix"></a><a href="https://leetcode.com/problems/longest-common-prefix/" target="_blank" rel="noopener">014-Longest-Common-Prefix</a></h3><p>This problem is easy. We need to find the longest common prefix in the input vectors. So we just take first two strings, and find the <code>LCP</code>. Then use this <code>LCP</code> to process with later string, get another <code>LCP</code>.</p>
<p>if <code>LCP</code> comes to <code>&quot;&quot;</code>, just return. Else we return the final <code>LCP</code>.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">CommonPrefix</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; s1, <span class="keyword">const</span> <span class="built_in">string</span>&amp; s2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s1.length() == <span class="number">0</span> || s2.length() == <span class="number">0</span>) <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; min(s1.length(), s2.length()); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s1[i] != s2[i]) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s1.substr(<span class="number">0</span>, i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">longestCommonPrefix</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; strs)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (strs.size() == <span class="number">0</span>) <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">auto</span> str = strs.front();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; strs.size() - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        str = CommonPrefix(str, strs[i + <span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">if</span> (str == <span class="string">""</span>) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="015-3Sum"><a href="#015-3Sum" class="headerlink" title="015-3Sum"></a><a href="https://leetcode.com/problems/3sum/" target="_blank" rel="noopener">015-3Sum</a></h3><p>The main difficulty of the this problem is forcing to find the <code>unique triplets</code>. So at first I tried to use the two pointers, it’s hard to control the range since the ranges will have overlap, this will lead to duplicate results.</p>
<p>So we can simply fix one side, and this can prevent the duplicate. First we will <code>sort the array</code>, and fix the left index as i, and then we will judge <code>nums[i] + nums[i + 1] + nums[j] = 0(?)</code>. if yes, then move the right pointer to left, continue to find out all answers in this range, if no, there are two situations.</p>
<ul>
<li>sum &lt; 0, then we need to move the <code>l = i + 1</code> to right</li>
<li>sum &gt; 0, then we need to move the <code>r</code> to left</li>
</ul>
<p>And remember that there will be same values occur, so we need to skip these same values to another distinct value to continue our process.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; threeSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; vec;</span><br><span class="line">    <span class="keyword">if</span> (nums.size() &lt;= <span class="number">2</span>) <span class="keyword">return</span> vec;</span><br><span class="line">    sort(nums.begin(), nums.end());</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (nums.front() &gt; <span class="number">0</span> || nums.back() &lt; <span class="number">0</span>) <span class="keyword">return</span> vec;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size() - <span class="number">2</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span> || nums[i] != nums[i - <span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">int</span> l = i + <span class="number">1</span>, r = nums.size() - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">                <span class="keyword">int</span> s = nums[i] + nums[l] + nums[r];</span><br><span class="line">                <span class="keyword">if</span> (s == <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; t &#123;nums[i], nums[l], nums[r]&#125;;</span><br><span class="line">                    vec.push_back(t);</span><br><span class="line">                    r--;</span><br><span class="line">                    <span class="keyword">for</span> (; l &lt; r; r--) <span class="keyword">if</span> (nums[r] != nums[r + <span class="number">1</span>]) <span class="keyword">break</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                    l++;</span><br><span class="line">                    <span class="keyword">for</span> (; l &lt; r; l++) <span class="keyword">if</span> (nums[l] != nums[l - <span class="number">1</span>]) <span class="keyword">break</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    r--;</span><br><span class="line">                    <span class="keyword">for</span> (; l &lt; r; r--) <span class="keyword">if</span> (nums[r] != nums[r + <span class="number">1</span>]) <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> vec;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="016-3Sum-Closest"><a href="#016-3Sum-Closest" class="headerlink" title="016-3Sum-Closest"></a><a href="https://leetcode.com/problems/3sum-closest/" target="_blank" rel="noopener">016-3Sum-Closest</a></h3><p>This problem is a little like P15. We just add <code>min_sum</code> to represent the distance between <code>target</code> and <code>sum</code>. If we find <code>min_sum</code> is updated, then update our final result to <code>sum</code>. If we find that <code>sum == target</code>, simply return target, because this is the least distance we can achieve.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">threeSumClosest</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    sort(nums.begin(), nums.end()); <span class="keyword">int</span> min_sum = INT_MAX; <span class="keyword">int</span> result;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size() - <span class="number">2</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span> || nums[i] != nums[i - <span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">int</span> l = i + <span class="number">1</span>, r = nums.size() - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">                <span class="keyword">int</span> s = nums[i] + nums[l] + nums[r];</span><br><span class="line">                <span class="keyword">if</span> (s == target) <span class="keyword">return</span> target;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (s &lt; target) &#123;</span><br><span class="line">                    min_sum = min(min_sum, <span class="built_in">abs</span>(s - target));</span><br><span class="line">                    <span class="keyword">if</span> (min_sum == <span class="built_in">abs</span>(s - target)) result = s;</span><br><span class="line">                    l++;</span><br><span class="line">                    <span class="keyword">for</span> (; l &lt; r; l++) <span class="keyword">if</span> (nums[l] != nums[l - <span class="number">1</span>]) <span class="keyword">break</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    min_sum = min(min_sum, <span class="built_in">abs</span>(s - target));</span><br><span class="line">                    <span class="keyword">if</span> (min_sum == <span class="built_in">abs</span>(s - target)) result = s;</span><br><span class="line">                    r--;</span><br><span class="line">                    <span class="keyword">for</span> (; l &lt; r; r--) <span class="keyword">if</span> (nums[r] != nums[r + <span class="number">1</span>]) <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="017-Letter-Combinations-of-a-Phone-Number"><a href="#017-Letter-Combinations-of-a-Phone-Number" class="headerlink" title="017-Letter-Combinations-of-a-Phone-Number"></a><a href="https://leetcode.com/problems/letter-combinations-of-a-phone-number/" target="_blank" rel="noopener">017-Letter-Combinations-of-a-Phone-Number</a></h3><p>This problem is simply using bfs algorithm we can get the answer. So just see the code and you will understand.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; phones &#123;<span class="string">""</span>, <span class="string">"abc"</span>, <span class="string">"def"</span>, <span class="string">"ghi"</span>, <span class="string">"jkl"</span>, <span class="string">"mno"</span>, <span class="string">"pqrs"</span>, <span class="string">"tuv"</span>, <span class="string">"wxyz"</span>&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">FitCombination</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; digits, <span class="keyword">int</span> i, <span class="built_in">string</span>&amp; t, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; results)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &gt;= digits.length()) &#123;</span><br><span class="line">        results.push_back(t);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> s : phones[digits[i] - <span class="string">'1'</span>]) &#123;</span><br><span class="line">        t.push_back(s);</span><br><span class="line">        FitCombination(digits, i + <span class="number">1</span>, t, results);</span><br><span class="line">        t.pop_back();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; letterCombinations(<span class="built_in">string</span> digits) &#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; results; <span class="built_in">string</span> t;</span><br><span class="line">    <span class="keyword">if</span> (digits.empty()) <span class="keyword">return</span> results;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> s : phones[digits.front() - <span class="string">'1'</span>]) &#123;</span><br><span class="line">        t.push_back(s);</span><br><span class="line">        FitCombination(digits, <span class="number">1</span>, t, results);</span><br><span class="line">        t.pop_back();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> results;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="018-4Sum"><a href="#018-4Sum" class="headerlink" title="018-4Sum"></a><a href="https://leetcode.com/problems/4sum/" target="_blank" rel="noopener">018-4Sum</a></h3><p>The thought is a little like <code>3Sum</code>. The main issue is that we need to control there are always two moveable pointers, one is from left to right, and another is from right to left.</p>
<p>Since in this problem, we have four positions, so we need to fix two positions. We denote the positions from left to right are <code>i</code>, <code>ll</code>, <code>l</code>, <code>r</code>. The positions of <code>i</code> and <code>ll</code> are fixed, <code>ll</code> is fixed to <code>i + 1</code>.</p>
<p>Then to loop to search the possible pairs, see the code:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; fourSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; results;</span><br><span class="line">    <span class="keyword">if</span> (nums.size() &lt; <span class="number">4</span>) <span class="keyword">return</span> results;</span><br><span class="line">    sort(nums.begin(), nums.end());</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size() - <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span> || nums[i] != nums[i - <span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> ll = i + <span class="number">1</span>; ll &lt; nums.size() - <span class="number">2</span>; ) &#123;</span><br><span class="line">                <span class="keyword">int</span> l = ll + <span class="number">1</span>, r = nums.size() - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">                    <span class="keyword">int</span> sum = nums[i] + nums[ll] + nums[l] + nums[r];</span><br><span class="line">                    <span class="keyword">if</span> (sum == target) &#123;</span><br><span class="line">                        results.push_back(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &#123;nums[i], nums[ll], nums[l], nums[r]&#125;);</span><br><span class="line">                        r--;</span><br><span class="line">                        <span class="keyword">for</span> (; l &lt; r; r--) <span class="keyword">if</span> (nums[r] != nums[r + <span class="number">1</span>]) <span class="keyword">break</span>;</span><br><span class="line">                    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (sum &lt; target) &#123;</span><br><span class="line">                        l++;</span><br><span class="line">                        <span class="keyword">for</span> (; l &lt; r; l++) <span class="keyword">if</span> (nums[l] != nums[l - <span class="number">1</span>]) <span class="keyword">break</span>;</span><br><span class="line">                    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                        r--;</span><br><span class="line">                        <span class="keyword">for</span> (; l &lt; r; r--) <span class="keyword">if</span> (nums[r] != nums[r + <span class="number">1</span>]) <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// next ll should be distinct position</span></span><br><span class="line">                ll++;</span><br><span class="line">                <span class="keyword">for</span> (; ll &lt; nums.size() - <span class="number">2</span>; ll++) <span class="keyword">if</span> (nums[ll] != nums[ll - <span class="number">1</span>]) <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> results;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="019-Remove-Nth-Node-From-End-of-List"><a href="#019-Remove-Nth-Node-From-End-of-List" class="headerlink" title="019-Remove-Nth-Node-From-End-of-List"></a><a href="https://leetcode.com/problems/remove-nth-node-from-end-of-list/" target="_blank" rel="noopener">019-Remove-Nth-Node-From-End-of-List</a></h3><p>This problem is relatively easy. Using one vector to record every node in the linklist. And find the node we need to delete, just need to judge one special case, which is the linklist only contains one element, so we need to return <code>nullptr</code> in this case.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ListNode* <span class="title">removeNthFromEnd</span><span class="params">(ListNode* head, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;ListNode*&gt; vec;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">nullptr</span>) <span class="keyword">return</span> head;</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        vec.push_back(head);</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (n == vec.size()) <span class="keyword">return</span> n == <span class="number">1</span> ? <span class="literal">nullptr</span> : vec[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">int</span> length = vec.size();</span><br><span class="line">        vec[length - n - <span class="number">1</span>]-&gt;next = vec[length - n]-&gt;next;</span><br><span class="line">        vec[length - n]-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">delete</span> vec[length - n];</span><br><span class="line">        <span class="keyword">return</span> vec.front();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="020-Valid-Parentheses"><a href="#020-Valid-Parentheses" class="headerlink" title="020-Valid-Parentheses"></a><a href="https://leetcode.com/problems/valid-parentheses/" target="_blank" rel="noopener">020-Valid-Parentheses</a></h3><p>Using one stack, if the input char and the top of the stack can be a pair, then pop the top element. Loop the whole string, and to see whether the stack is empty. If empty, means it’s a valid case, otherwise it’s a invalid case.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isValid</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">char</span>&gt; ss; <span class="built_in">unordered_map</span>&lt;<span class="keyword">char</span>, <span class="keyword">char</span>&gt; m &#123;&#123;<span class="string">'('</span>, <span class="string">')'</span>&#125;, &#123;<span class="string">'&#123;'</span>, <span class="string">'&#125;'</span>&#125;, &#123;<span class="string">'['</span>, <span class="string">']'</span>&#125;&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">char</span> c = s[i];</span><br><span class="line">        <span class="keyword">if</span> (ss.empty()) ss.push(c);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (m[ss.top()] == c) ss.pop();</span><br><span class="line">        <span class="keyword">else</span> ss.push(c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ss.empty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="021-Merge-Two-Sorted-Lists"><a href="#021-Merge-Two-Sorted-Lists" class="headerlink" title="021-Merge-Two-Sorted-Lists"></a><a href="https://leetcode.com/problems/merge-two-sorted-lists/" target="_blank" rel="noopener">021-Merge-Two-Sorted-Lists</a></h3><p>This problem is easy, I come up two solutions here:</p>
<p>1) Using one vector to store the values, and sort, then give these values to the ListNode vector, last link the list and return.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ListNode* <span class="title">mergeTwoLists</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">   <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec; <span class="built_in">vector</span>&lt;ListNode*&gt; node_vec;</span><br><span class="line">   <span class="keyword">if</span> (l1 == <span class="literal">nullptr</span> &amp;&amp; l2 == <span class="literal">nullptr</span>) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">   <span class="keyword">if</span> (l1 == <span class="literal">nullptr</span>) <span class="keyword">return</span> l2;</span><br><span class="line">   <span class="keyword">if</span> (l2 == <span class="literal">nullptr</span>) <span class="keyword">return</span> l1;</span><br><span class="line">   <span class="keyword">while</span> (l1 != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">       vec.push_back(l1-&gt;val); l1 = l1-&gt;next;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">while</span> (l2 != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">       vec.push_back(l2-&gt;val); l2 = l2-&gt;next;</span><br><span class="line">   &#125;</span><br><span class="line">   sort(vec.begin(), vec.end());</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vec.size(); i++) node_vec.push_back(<span class="keyword">new</span> ListNode(vec[i]));</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; node_vec.size() - <span class="number">1</span>; i++) node_vec[i]-&gt;next = node_vec[i + <span class="number">1</span>];</span><br><span class="line">   <span class="keyword">return</span> node_vec.front();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2) Recursive way<br>   Compare the current two nodes’ values. If one node’s value is lower than another, then this node will be the head.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ListNode* <span class="title">mergeTwoLists</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l1 == <span class="literal">nullptr</span> &amp;&amp; l2 == <span class="literal">nullptr</span>) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">if</span> (l1 == <span class="literal">nullptr</span>) <span class="keyword">return</span> l2;</span><br><span class="line">    <span class="keyword">if</span> (l2 == <span class="literal">nullptr</span>) <span class="keyword">return</span> l1;</span><br><span class="line">    <span class="keyword">if</span> (l1-&gt;val &lt; l2-&gt;val) &#123;</span><br><span class="line">        l1-&gt;next = mergeTwoLists(l1-&gt;next, l2);</span><br><span class="line">        <span class="keyword">return</span> l1;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        l2-&gt;next = mergeTwoLists(l1, l2-&gt;next);</span><br><span class="line">        <span class="keyword">return</span> l2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="022-Generate-Parentheses"><a href="#022-Generate-Parentheses" class="headerlink" title="022-Generate-Parentheses"></a><a href="https://leetcode.com/problems/generate-parentheses/" target="_blank" rel="noopener">022-Generate-Parentheses</a></h3><p>This problem is using dfs with backtracking. There are two tricks here: </p>
<ul>
<li>If a sequence is valid, then the head must be <code>(</code> and tail must be <code>)</code>.</li>
<li>Denote <code>balance = left - right</code>, which <code>left</code> is the <code>(</code> numbers in current sequence, and <code>right</code> is the <code>)</code> numbers. If <code>balance &lt; 0</code>, then the sequence must be invalid, and we do not need to construct the following sequence.</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; results, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; record, <span class="built_in">string</span>&amp; s, <span class="keyword">int</span>&amp; balance)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (record[<span class="number">0</span>] == <span class="number">0</span> &amp;&amp; record[<span class="number">1</span>] == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">string</span> r = s + <span class="string">")"</span>;</span><br><span class="line">        results.push_back(r);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (balance &lt; <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> (record[<span class="number">0</span>] != <span class="number">0</span>) &#123;</span><br><span class="line">        s.push_back(<span class="string">'('</span>); record[<span class="number">0</span>] -= <span class="number">1</span>; balance += <span class="number">1</span>;</span><br><span class="line">        dfs(results, record, s, balance);</span><br><span class="line">        s.pop_back(); record[<span class="number">0</span>] += <span class="number">1</span>; balance -= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (record[<span class="number">1</span>] != <span class="number">0</span>) &#123;</span><br><span class="line">        s.push_back(<span class="string">')'</span>); record[<span class="number">1</span>] -= <span class="number">1</span>; balance -= <span class="number">1</span>;</span><br><span class="line">        dfs(results, record, s, balance);</span><br><span class="line">        s.pop_back(); record[<span class="number">1</span>] += <span class="number">1</span>; balance += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; generateParenthesis(<span class="keyword">int</span> n) &#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; result;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">0</span>) <span class="keyword">return</span> result;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; record &#123;n - <span class="number">1</span>, n - <span class="number">1</span>&#125;; <span class="comment">// '(' and ')'</span></span><br><span class="line">    <span class="built_in">string</span> s = <span class="string">"("</span>; <span class="keyword">int</span> balance = <span class="number">1</span>; <span class="comment">// balance equals to left - right</span></span><br><span class="line">    dfs(result, record, s, balance);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="023-Merge-k-Sorted-Lists"><a href="#023-Merge-k-Sorted-Lists" class="headerlink" title="023-Merge-k-Sorted-Lists"></a><a href="https://leetcode.com/problems/merge-k-sorted-lists/" target="_blank" rel="noopener">023-Merge-k-Sorted-Lists</a></h3><p>1) <strong>Naive solution:</strong></p>
<p>Loop the <code>lists</code> and find the min element and corresponding index. The head of the selected linklist will be the selected node, and continue, until all the linklist in <code>lists</code> are <code>nullptr</code>.</p>
<p>Time complexity will be $O(kn)$.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ListNode* <span class="title">mergeKLists</span><span class="params">(<span class="built_in">vector</span>&lt;ListNode*&gt;&amp; lists)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (lists.empty()) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">   ListNode* result = <span class="literal">nullptr</span>;</span><br><span class="line">   <span class="keyword">int</span> length = lists.size(); <span class="keyword">int</span> min_num = INT_MAX, min_index = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">       ListNode* node = lists[i];</span><br><span class="line">       <span class="keyword">if</span> (node != <span class="literal">nullptr</span> &amp;&amp; node-&gt;val &lt;= min_num) &#123;</span><br><span class="line">           min_num = node-&gt;val;</span><br><span class="line">           min_index = i;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">if</span> (min_index == <span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">   result = lists[min_index]; lists[min_index] = lists[min_index]-&gt;next;</span><br><span class="line">   result-&gt;next = mergeKLists(lists);</span><br><span class="line">   <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2) <strong>Divide and conquer solution:</strong></p>
<p>For example, we can link <code>0 and 1</code>, <code>2 and 3</code>, … in first iteration, and <code>0 and 2</code>, <code>4 and 6</code>… in second iteration. Until the last two list is linked, then index <code>0</code>‘s linklist will be the answer. In this solution we need one parameter <code>range</code> to control the iteration times and the distance between two lists which will be linked here.</p>
<p>In this way, the time complexity will be $O(n\log k)$.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ListNode* <span class="title">mergeTwoLists</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l1 == <span class="literal">nullptr</span> &amp;&amp; l2 == <span class="literal">nullptr</span>) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">if</span> (l1 == <span class="literal">nullptr</span>) <span class="keyword">return</span> l2;</span><br><span class="line">    <span class="keyword">if</span> (l2 == <span class="literal">nullptr</span>) <span class="keyword">return</span> l1;</span><br><span class="line">    <span class="keyword">if</span> (l1-&gt;val &lt; l2-&gt;val) &#123;</span><br><span class="line">        l1-&gt;next = mergeTwoLists(l1-&gt;next, l2);</span><br><span class="line">        <span class="keyword">return</span> l1;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        l2-&gt;next = mergeTwoLists(l1, l2-&gt;next);</span><br><span class="line">        <span class="keyword">return</span> l2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ListNode* <span class="title">mergeKLists</span><span class="params">(<span class="built_in">vector</span>&lt;ListNode*&gt;&amp; lists)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (lists.empty()) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">if</span> (lists.size() == <span class="number">1</span>) <span class="keyword">return</span> lists.front();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> range = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> ( ; ; ) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; lists.size(); i += <span class="number">2</span> * range) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == lists.size() - <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (i + range &lt; lists.size()) &#123;</span><br><span class="line">                lists[i] = mergeTwoLists(lists[i], lists[i + range]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        range *= <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (range &gt;= lists.size()) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> lists.front();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="024-Swap-Nodes-in-Pairs"><a href="#024-Swap-Nodes-in-Pairs" class="headerlink" title="024-Swap-Nodes-in-Pairs"></a><a href="https://leetcode.com/problems/swap-nodes-in-pairs/" target="_blank" rel="noopener">024-Swap-Nodes-in-Pairs</a></h3><p>Using three pointers to finish one swap process, and one <code>prev_ptr</code> to represent the previous pointer of the next process pointer, and loop the whole linklist, until there are no processes needed. In our case which is <code>cur_nn == nullptr || cur_nn-&gt;next == nullptr</code>.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ListNode* <span class="title">swapPairs</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">nullptr</span> || head-&gt;next == <span class="literal">nullptr</span>) <span class="keyword">return</span> head;</span><br><span class="line">    ListNode* cur = head; ListNode* cur_n = head-&gt;next; ListNode* cur_nn = cur_n-&gt;next;</span><br><span class="line">    ListNode* result = <span class="literal">nullptr</span>; ListNode* prev_ptr = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="comment">// first iteration and fix the result</span></span><br><span class="line">    cur_n-&gt;next = cur; cur-&gt;next = cur_nn; result = cur_n; prev_ptr = cur;</span><br><span class="line">    <span class="keyword">for</span> (; ;) &#123;</span><br><span class="line">        <span class="keyword">if</span> (cur_nn == <span class="literal">nullptr</span> || cur_nn-&gt;next == <span class="literal">nullptr</span>) <span class="keyword">break</span>;</span><br><span class="line">        cur = cur_nn; cur_n = cur-&gt;next; cur_nn = cur_n-&gt;next;</span><br><span class="line">        <span class="comment">// do the iterations</span></span><br><span class="line">        cur_n-&gt;next = cur; cur-&gt;next = cur_nn; prev_ptr-&gt;next = cur_n; prev_ptr = cur;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="025-Reverse-Nodes-in-k-Group"><a href="#025-Reverse-Nodes-in-k-Group" class="headerlink" title="025-Reverse-Nodes-in-k-Group"></a><a href="https://leetcode.com/problems/reverse-nodes-in-k-group/" target="_blank" rel="noopener">025-Reverse-Nodes-in-k-Group</a></h3><p>This problem is a harder version of P24. Since the number of reversing is uncertain, so in this problem, I write another function for reversing the linkedlist.</p>
<p>Different from the normal problem <code>reverse linklist</code>, it reverse the linkedlist given <code>head</code> and <code>tail</code> pointers. And we need another pointer <code>prev_ptr</code> to represent the last pointer which will link the resulted reversed list.</p>
<p>In the main function, we iterate to find <code>head</code> and <code>tail</code> which contains exactly <code>k</code> elements in this range. Then pass the two pointers to the reversing function, and link <code>prev_ptr</code> with the linklist and update the <code>prev_ptr</code>.</p>
<p>While we find that the remaining elements in origin list is less than <code>k</code>, than just break and return the <code>result</code> pointer, since we will use <code>result</code> pointer to be the head pointer of the result linklist in first iteration.</p>
<p>The solution code is here:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">reverseList</span><span class="params">(ListNode* head, ListNode* tail, ListNode*&amp; prev_ptr)</span> </span>&#123;</span><br><span class="line">    ListNode* dummy = <span class="keyword">new</span> ListNode;</span><br><span class="line">    dummy-&gt;next = head;</span><br><span class="line">    </span><br><span class="line">    ListNode* cur_l = dummy; ListNode* cur = head; ListNode* cur_r = cur-&gt;next;</span><br><span class="line">    <span class="keyword">for</span> (; ;) &#123;</span><br><span class="line">        cur-&gt;next = cur_l;</span><br><span class="line">        <span class="keyword">if</span> (cur == tail) <span class="keyword">break</span>;</span><br><span class="line">        cur_l = cur; cur = cur_r; cur_r = cur_r-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    prev_ptr-&gt;next = tail;</span><br><span class="line">    prev_ptr = head; prev_ptr-&gt;next = cur_r;</span><br><span class="line">    <span class="keyword">delete</span> dummy;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ListNode* <span class="title">reverseKGroup</span><span class="params">(ListNode* head, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">nullptr</span>) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">if</span> (k == <span class="number">1</span>) <span class="keyword">return</span> head;</span><br><span class="line">    ListNode* prev_ptr = <span class="keyword">new</span> ListNode; ListNode* tmp = head; ListNode* result = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="comment">// for first iterations</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k - <span class="number">1</span>; i++) tmp = tmp-&gt;next;</span><br><span class="line">    reverseList(head, tmp, prev_ptr); result = tmp;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (; ;) &#123;</span><br><span class="line">        tmp = prev_ptr-&gt;next; <span class="keyword">bool</span> return_flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (tmp == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                return_flag = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            tmp = tmp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (return_flag || tmp == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            reverseList(prev_ptr-&gt;next, tmp, prev_ptr);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="026-Remove-Duplicates-from-Sorted-Array"><a href="#026-Remove-Duplicates-from-Sorted-Array" class="headerlink" title="026-Remove-Duplicates-from-Sorted-Array"></a><a href="https://leetcode.com/problems/remove-duplicates-from-sorted-array/" target="_blank" rel="noopener">026-Remove-Duplicates-from-Sorted-Array</a></h3><p>In this problem, we need one parameter <code>n</code> to remember the distinct number, and <code>count</code> for the total distinct number. Since last it will print the values, so we need to move the value to corresponding position, which is <code>nums[count++]</code>.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">removeDuplicates</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.empty()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> n = nums.front() - <span class="number">1</span>; <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] != n) &#123;</span><br><span class="line">            nums[count++] = nums[i];</span><br><span class="line">            n = nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="027-Remove-Element"><a href="#027-Remove-Element" class="headerlink" title="027-Remove-Element"></a><a href="https://leetcode.com/problems/remove-element/" target="_blank" rel="noopener">027-Remove-Element</a></h3><p>Almost the same with P26, just the judgement condition is different, just see the code.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">removeElement</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.empty()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] != val) &#123;</span><br><span class="line">            nums[count++] = nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="028-Implement-strStr"><a href="#028-Implement-strStr" class="headerlink" title="028-Implement-strStr()"></a><a href="https://leetcode.com/problems/implement-strstr/" target="_blank" rel="noopener">028-Implement-strStr()</a></h3><p>Loop the sequence <code>haystack</code>, and check which position the characters are exactly the same with <code>needle</code>. Just some special conditions need to be judged here.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="built_in">string</span>&amp; haystack, <span class="built_in">string</span>&amp; needle, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; needle.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (haystack[index + i] != needle[i]) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">strStr</span><span class="params">(<span class="built_in">string</span> haystack, <span class="built_in">string</span> needle)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (needle.length() &gt; haystack.length()) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">if</span> (needle.empty()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> pos = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= haystack.length() - needle.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (check(haystack, needle, i)) &#123;</span><br><span class="line">            pos = i;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="029-Divide-Two-Integers"><a href="#029-Divide-Two-Integers" class="headerlink" title="029-Divide-Two-Integers"></a><a href="https://leetcode.com/problems/divide-two-integers/" target="_blank" rel="noopener">029-Divide-Two-Integers</a></h3><p>Really boring problem. Just using simple division solve this problem. Also there is a bit operation solution.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">divide</span><span class="params">(<span class="keyword">int</span> dividend, <span class="keyword">int</span> divisor)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(dividend &lt;= INT_MIN &amp;&amp; divisor == <span class="number">-1</span>) <span class="keyword">return</span> INT_MAX;</span><br><span class="line">    <span class="keyword">return</span> dividend/divisor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="030-Substring-with-Concatenation-of-All-Words"><a href="#030-Substring-with-Concatenation-of-All-Words" class="headerlink" title="030-Substring-with-Concatenation-of-All-Words"></a><a href="https://leetcode.com/problems/substring-with-concatenation-of-all-words/" target="_blank" rel="noopener">030-Substring-with-Concatenation-of-All-Words</a></h3><p>In this problem, I use the hashmap to store the elements in <code>words</code> vector. And check from each possible position. In <code>Check</code> function, if we find that <strong>(1)</strong> one word did not present in <code>words</code> <strong>(2)</strong> The word is used up by the previous existing subwords.</p>
<p>These two situations then we judge the position is invalid.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; str_map, <span class="built_in">string</span>&amp; s, <span class="keyword">int</span> times, <span class="keyword">int</span>&amp; length, <span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (; times &gt; <span class="number">0</span> ; times--, i += length) &#123;</span><br><span class="line">        <span class="built_in">string</span> tmp = s.substr(i, length);</span><br><span class="line">        <span class="keyword">if</span> (str_map[tmp] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            str_map[tmp] -= <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; findSubstring(<span class="built_in">string</span> s, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; words) &#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line">    <span class="keyword">if</span> (s.empty() || words.empty()) <span class="keyword">return</span> result;</span><br><span class="line">    <span class="keyword">if</span> (words.front().empty()) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= s.length(); i++) result.push_back(i);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> times = words.size(), length = words.front().length();</span><br><span class="line">    <span class="keyword">int</span> total_length = times * length;</span><br><span class="line">    <span class="keyword">if</span> (total_length &gt; s.length()) <span class="keyword">return</span> result; <span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; str_map;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> s : words) str_map[s] += <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= s.length() - total_length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (check(str_map, s, times, length, i)) result.push_back(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="031-Next-Permutation"><a href="#031-Next-Permutation" class="headerlink" title="031-Next-Permutation"></a><a href="https://leetcode.com/problems/next-permutation/" target="_blank" rel="noopener">031-Next-Permutation</a></h3><p>This problem has a little trick here. Take an example to show how I solve this problem. Suppose the input sequence is <code>1-&gt;3-&gt;5-&gt;4-&gt;2</code>, then we want next permutation to be <code>1-&gt;4-&gt;2-&gt;3-&gt;5</code>. Let’s see how we can get this permutation.</p>
<ul>
<li>Find out the first reverse pair from right to left, which is <code>3-&gt;5</code>, so we confirm that <code>3</code> should be swaped here. <code>If not find, just reverse the input vector and return</code>.</li>
<li>Since <code>3-&gt;5</code> is the first reversed pair, so we can ensure that elements behind <code>3</code> must be ordered descending.</li>
<li>Find out the mininum element in <code>elements behind 3</code> which is <code>greater than 3</code> to ensure the next permutation is just larger than current permutation. Here is element <code>4</code>.</li>
<li>swap <code>3 and 4</code>, then we get the permutation <code>1-&gt;4-&gt;5-&gt;3-&gt;2</code>. And also the last 3 elements we can gurantee it must be ordered descending.</li>
<li>Then we just swap the remaining elements from left and right to the middle. </li>
<li>We get the final result permutation: <code>1-&gt;4-&gt;2-&gt;3-&gt;5</code>.</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">nextPermutation</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = nums.size() - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] &gt; nums[i - <span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">int</span> index = nums.size() - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; nums.size(); j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[j] &lt;= nums[i - <span class="number">1</span>]) &#123;</span><br><span class="line">                    index = j - <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            swap(nums[i - <span class="number">1</span>], nums[index]);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> l = i, r = nums.size() - <span class="number">1</span>; l &lt;= r; l++, r--) swap(nums[l], nums[r]);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    reverse(nums.begin(), nums.end());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="032-Longest-Valid-Parentheses"><a href="#032-Longest-Valid-Parentheses" class="headerlink" title="032-Longest-Valid-Parentheses"></a><a href="https://leetcode.com/problems/longest-valid-parentheses/" target="_blank" rel="noopener">032-Longest-Valid-Parentheses</a></h3><p><strong>(1) My Naive solution</strong></p>
<p>Inspired by the previous problem, I tried to use the <code>balances</code> array to solve this problem. First initial the <code>balances</code> array. If we find the current character is <code>(</code>, then we plus 1 to represent the current balance, otherwise we minus 1. If <code>(</code> and previous balance is negative or the position is fist position, then we set the balance to <code>1</code>.</p>
<p>Take an example, for random sequence <code>(()()()(</code>, we can get the balances vector: <code>1 2 1 2 1 2 1 2</code>. Once we get the <code>balances</code> vector, then we can do this to find out the answer.</p>
<ul>
<li>for every position <code>i</code>, use another point <code>j</code> to loop from <code>i + 1</code>.</li>
<li>Then judge every steps:<ul>
<li><code>balances[i] - balances[j] == 1</code>, valid sequence, update result and next_index. For this range can not find longer sequence, a little trick to speed up.</li>
<li><code>balances[i] - balances[j] &gt; 1</code>, invalid sequence now, the following index can not find valid sequence, just update i to <code>next_index</code>.</li>
</ul>
</li>
<li>Time complexity: $O(n^2)$.</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">longestValidParentheses</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s.length() &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> length = s.length();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; balances; balances.resize(length);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span>) balances[i] = (s[i] == <span class="string">'('</span>) ? <span class="number">1</span> : <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i] == <span class="string">')'</span>) balances[i] = balances[i - <span class="number">1</span>] - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> balances[i] = (balances[i - <span class="number">1</span>] &lt; <span class="number">0</span>) ? <span class="number">1</span> : balances[i - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (balances.back() == balances.size()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length - <span class="number">1</span>; ) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s[i] == <span class="string">')'</span>) &#123;</span><br><span class="line">            i++; <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> next_index = i + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (balances[j] &lt; balances[i] - <span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span> (balances[i] - balances[j] == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j - i + <span class="number">1</span> &gt; result) result = j - i + <span class="number">1</span>;</span><br><span class="line">                next_index = j + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        i = next_index;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>(2) Dynamic Programming</strong></p>
<p>Also this problem can use dp to solve. We denote that <code>dp[i]</code> as the longest sequence in position <code>i</code>. We know that the valid sequence must end with <code>)</code>, so all the <code>(</code> positions we can denote it as 0. Then we have the transition equations:</p>
<ul>
<li><strong>() situation:</strong> <code>dp[i] = i &gt; 2 ? dp [i - 2] + 2 : 2</code></li>
<li><strong>((…)) situation:</strong> <code>dp[i] = (s[i - dp[i - 1] - 1] == &#39;(&#39;) ? dp[i - dp[i - 1] - 2] + dp[i - 1] + 2 : 0;</code> But in this situation you need to judge, like this example: <code>(()())</code>, the whole sequence is the longest sequence, then in the last position, the index <code>i - dp[i - 1] - 2</code> will be -1, so this need to judge.</li>
<li>Time complexity: $O(n)$.</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">longestValidParentheses</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s.length() &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> length = s.length();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp; dp.resize(length);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> result = INT_MIN;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s[i] == <span class="string">'('</span>) dp[i] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span> || i - dp[i - <span class="number">1</span>] - <span class="number">1</span> &lt; <span class="number">0</span>) dp[i] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (s[i - <span class="number">1</span>] == <span class="string">'('</span>) dp[i] = i &gt; <span class="number">2</span> ? dp [i - <span class="number">2</span>] + <span class="number">2</span> : <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (i - dp[i - <span class="number">1</span>] - <span class="number">2</span> &lt; <span class="number">0</span>) dp[i] = (s[i - dp[i - <span class="number">1</span>] - <span class="number">1</span>] == <span class="string">'('</span>) ? dp[i - <span class="number">1</span>] + <span class="number">2</span> : <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span> dp[i] = (s[i - dp[i - <span class="number">1</span>] - <span class="number">1</span>] == <span class="string">'('</span>) ? dp[i - dp[i - <span class="number">1</span>] - <span class="number">2</span>] + dp[i - <span class="number">1</span>] + <span class="number">2</span> : <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        result = max(result, dp[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="033-Search-in-Rotated-Sorted-Array"><a href="#033-Search-in-Rotated-Sorted-Array" class="headerlink" title="033-Search in Rotated Sorted Array"></a><a href="https://leetcode.com/problems/search-in-rotated-sorted-array/" target="_blank" rel="noopener">033-Search in Rotated Sorted Array</a></h3><p>Naive solution is using one map to store the value and index, the overall time complexity is $O(N)$.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; index_map;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) index_map[nums[i]] = i;</span><br><span class="line">    <span class="keyword">if</span> (index_map.count(target) == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> index_map[target];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Or we can use binary search method, first we find the break point, and find the element in corresponding range, in this method, the time complexity is $O(\log N)$.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums.empty()) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums.size() == <span class="number">1</span>) <span class="keyword">return</span> (nums.front() == target) ? <span class="number">0</span> : <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums.front() &lt; nums.back()) <span class="keyword">return</span> searchPoint(nums, <span class="number">0</span>, nums.size() - <span class="number">1</span>, target);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> break_pos = searchBreakPoint(nums, <span class="number">0</span>, nums.size() - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> min_value = nums[break_pos];</span><br><span class="line">        <span class="keyword">int</span> max_value = nums[break_pos - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span>(target &lt; min_value || target &gt; max_value || (target &gt; nums.back() &amp;&amp; target &lt; nums.front())) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (target &lt;= nums.back()) <span class="keyword">return</span> searchPoint(nums, break_pos, nums.size() - <span class="number">1</span>, target);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> searchPoint(nums, <span class="number">0</span>, break_pos - <span class="number">1</span>, target);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">searchBreakPoint</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> left_pos, <span class="keyword">int</span> right_pos)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> mid_pos = (left_pos + right_pos) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(mid_pos == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid_pos] &gt; nums[mid_pos + <span class="number">1</span>]) <span class="keyword">return</span> mid_pos + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(left_pos &lt;= right_pos)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid_pos] &lt; nums[mid_pos - <span class="number">1</span>]) <span class="keyword">return</span> mid_pos;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(nums[mid_pos] &gt;= nums.front()) <span class="keyword">return</span> searchBreakPoint(nums, mid_pos + <span class="number">1</span>, right_pos);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> searchBreakPoint(nums, left_pos, mid_pos - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">searchPoint</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> left_pos, <span class="keyword">int</span> right_pos, <span class="keyword">int</span> target)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> mid_pos = (left_pos + right_pos) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">while</span>(left_pos &lt;= right_pos)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid_pos] == target) <span class="keyword">return</span> mid_pos;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(nums[mid_pos] &lt; target) <span class="keyword">return</span> searchPoint(nums, mid_pos + <span class="number">1</span>, right_pos, target);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> searchPoint(nums, left_pos, mid_pos - <span class="number">1</span>, target);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="034-Find-First-and-Last-Position-of-Element-in-Sorted-Array"><a href="#034-Find-First-and-Last-Position-of-Element-in-Sorted-Array" class="headerlink" title="034-Find-First-and-Last-Position-of-Element-in-Sorted-Array"></a><a href="https://leetcode.com/problems/find-first-and-last-position-of-element-in-sorted-array/" target="_blank" rel="noopener">034-Find-First-and-Last-Position-of-Element-in-Sorted-Array</a></h3><p>This problem is also using binary search to find one elements in the sorted array. If not find, just return <code>-1, -1</code>. If find, then from the <code>finded_index</code> to expand to left and right to find the starting position and ending position. The worst case is $O(\log N + N)$.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bnsearch</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">const</span> <span class="keyword">int</span>&amp; target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt; r) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (nums[mid] == target) <span class="keyword">return</span> mid;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; target) &#123;</span><br><span class="line">        l = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> bnsearch(nums, l, r, target);</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        r = mid - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> bnsearch(nums, l, r, target);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; searchRange(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line">    <span class="keyword">if</span> (nums.empty() || target &lt; nums.front() || target &gt; nums.back()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &#123;<span class="number">-1</span>, <span class="number">-1</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> index = bnsearch(nums, <span class="number">0</span>, nums.size() - <span class="number">1</span>, target);</span><br><span class="line">    <span class="keyword">if</span> (index == <span class="number">-1</span>) <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &#123;<span class="number">-1</span>, <span class="number">-1</span>&#125;;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> s = index; s &gt;= <span class="number">0</span>; s--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[s] == target) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                result.push_back(s + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (result.empty()) result.push_back(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> e = index; e &lt; nums.size(); e++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[e] == target) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                result.push_back(e - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (result.size() != <span class="number">2</span>) result.push_back(nums.size() - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="035-Search-Insert-Position"><a href="#035-Search-Insert-Position" class="headerlink" title="035-Search-Insert-Position"></a><a href="https://leetcode.com/problems/search-insert-position/" target="_blank" rel="noopener">035-Search-Insert-Position</a></h3><p>This problem is similar to binary search solution. So the only one special judge is when the first element is lower than the target, this time we should return index: <code>0</code>.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bsearch_35</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span>&amp; target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt; r) <span class="keyword">return</span> r;</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (nums[mid] == target) <span class="keyword">return</span> mid;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; target) <span class="keyword">return</span> bsearch_35(nums, mid + <span class="number">1</span>, r, target);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> bsearch_35(nums, l, mid - <span class="number">1</span>, target);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">searchInsert</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.empty()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> r = bsearch_35(nums, <span class="number">0</span>, nums.size() - <span class="number">1</span>, target);</span><br><span class="line">    <span class="keyword">if</span> (r &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (nums[r] == target) <span class="keyword">return</span> r;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (target &lt; nums[r]) <span class="keyword">return</span> r == <span class="number">0</span> ? <span class="number">0</span> : r - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> r + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="036-Valid-Sudoku"><a href="#036-Valid-Sudoku" class="headerlink" title="036-Valid-Sudoku"></a><a href="https://leetcode.com/problems/valid-sudoku/" target="_blank" rel="noopener">036-Valid-Sudoku</a></h3><p>Simply judge the nine rows, nine columns and nine subgrids, check whether all match the requirements, if yes, then we return <code>true</code> as our result, otherwise return <code>false</code>.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isValidSudoku</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; check_vec; check_vec.resize(<span class="number">10</span>); fill(check_vec.begin(), check_vec.end(), <span class="number">0</span>);</span><br><span class="line">    <span class="comment">// check rows</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.size(); i++) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; row = board[i];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; c : row) &#123;</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">'.'</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (check_vec[c - <span class="string">'0'</span>] == <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            check_vec[c - <span class="string">'0'</span>] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        fill(check_vec.begin(), check_vec.end(), <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// check columns</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.front().size(); i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board.size(); j++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = board[j][i];</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">'.'</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (check_vec[c - <span class="string">'0'</span>] == <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            check_vec[c - <span class="string">'0'</span>] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        fill(check_vec.begin(), check_vec.end(), <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// check subgrids</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.size(); i += <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board.front().size(); j += <span class="number">3</span>) &#123;</span><br><span class="line">            <span class="comment">// grids</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> r = i; r &lt; i + <span class="number">3</span>; r++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> c = j; c &lt; j + <span class="number">3</span>; c++) &#123;</span><br><span class="line">                    <span class="keyword">char</span> cc = board[r][c];</span><br><span class="line">                    <span class="keyword">if</span> (cc == <span class="string">'.'</span>) <span class="keyword">continue</span>;</span><br><span class="line">                    <span class="keyword">if</span> (check_vec[cc - <span class="string">'0'</span>] == <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    check_vec[cc - <span class="string">'0'</span>] = <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            fill(check_vec.begin(), check_vec.end(), <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="037-Sudoku-Solver"><a href="#037-Sudoku-Solver" class="headerlink" title="037-Sudoku-Solver"></a><a href="https://leetcode.com/problems/sudoku-solver/" target="_blank" rel="noopener">037-Sudoku-Solver</a></h3><p>This time we need to solve the Sudoku problem. The main thought is easy, using <code>DFS</code> algorithm to loop all the <code>&#39;.&#39;</code> position, and try to put the candidates’ numbers in.</p>
<p>I use three arrays to remember the current board state. <code>rows</code> represents the row state of the board. <code>cols</code> represents the column state of the board. <code>grids</code> represents the subgrids state of the board. </p>
<p>Then applying <code>dfs + backtracking</code> to solve this problem.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> rows[<span class="number">10</span>][<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;; <span class="keyword">int</span> cols[<span class="number">10</span>][<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;; <span class="keyword">int</span> grids[<span class="number">10</span>][<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index &gt;= <span class="number">9</span> * <span class="number">9</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">int</span> row = index / <span class="number">9</span>; <span class="keyword">int</span> col = index % <span class="number">9</span>;</span><br><span class="line">    <span class="keyword">if</span> (board[row][col] != <span class="string">'.'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> dfs(board, index + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="comment">// valid</span></span><br><span class="line">            <span class="keyword">if</span> (rows[row][i] == <span class="number">0</span> &amp;&amp; cols[col][i] == <span class="number">0</span> &amp;&amp; grids[(row / <span class="number">3</span>) * <span class="number">3</span> + col / <span class="number">3</span>][i] == <span class="number">0</span>) &#123;</span><br><span class="line">                board[row][col] = <span class="string">'0'</span> + i;</span><br><span class="line">                rows[row][i] = <span class="number">1</span>; cols[col][i] = <span class="number">1</span>; grids[(row / <span class="number">3</span>) * <span class="number">3</span> + col / <span class="number">3</span>][i] = <span class="number">1</span>;</span><br><span class="line">                flag = dfs(board, index + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (!flag) &#123;</span><br><span class="line">                    rows[row][i] = <span class="number">0</span>; cols[col][i] = <span class="number">0</span>; grids[(row / <span class="number">3</span>) * <span class="number">3</span> + col / <span class="number">3</span>][i] = <span class="number">0</span>;</span><br><span class="line">                    board[row][col] = <span class="string">'.'</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> flag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solveSudoku</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; board)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">9</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = board[i][j];</span><br><span class="line">            <span class="keyword">if</span> (c != <span class="string">'.'</span>) &#123;</span><br><span class="line">                rows[i][c - <span class="string">'0'</span>] = <span class="number">1</span>;</span><br><span class="line">                cols[j][c - <span class="string">'0'</span>] = <span class="number">1</span>;</span><br><span class="line">                grids[(i / <span class="number">3</span>) * <span class="number">3</span> + j / <span class="number">3</span>][c - <span class="string">'0'</span>] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(board, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="038-Count-and-Say"><a href="#038-Count-and-Say" class="headerlink" title="038-Count-and-Say"></a><a href="https://leetcode.com/problems/count-and-say/" target="_blank" rel="noopener">038-Count-and-Say</a></h3><p>This problem is easy. Just loop and count the <code>times</code> and distinct <code>number</code> to get the final result string.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">countAndSay</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">string</span> base = <span class="string">"1"</span>;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">return</span> base;</span><br><span class="line">    <span class="keyword">while</span> (n &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span> times = <span class="number">0</span>; <span class="keyword">char</span> cur = base.front(); <span class="built_in">string</span> tmp;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; base.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (base[i] == cur) times++;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                tmp.push_back(<span class="string">'0'</span> + times); tmp.push_back(cur);</span><br><span class="line">                cur = base[i]; times = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        tmp.push_back(<span class="string">'0'</span> + times); tmp.push_back(cur);</span><br><span class="line">        base = tmp;</span><br><span class="line">        n--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> base;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="039-Combination-Sum"><a href="#039-Combination-Sum" class="headerlink" title="039-Combination-Sum"></a><a href="https://leetcode.com/problems/combination-sum/" target="_blank" rel="noopener">039-Combination-Sum</a></h3><p>Also back-tracking algorithm is using to solve this problem. Just see the code and it’s easy to understand.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; results;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">back_track</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; candidates, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp, <span class="keyword">int</span> index, <span class="keyword">int</span> target, <span class="keyword">int</span> sum)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = index; i &lt; candidates.size(); i++) &#123;</span><br><span class="line">        sum += candidates[i];</span><br><span class="line">        <span class="keyword">if</span> (sum == target) &#123;</span><br><span class="line">            tmp.push_back(candidates[i]);</span><br><span class="line">            results.push_back(tmp);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (sum &gt; target) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            tmp.push_back(candidates[i]);</span><br><span class="line">            back_track(candidates, tmp, i, target, sum);</span><br><span class="line">            sum -= candidates[i];</span><br><span class="line">            tmp.pop_back();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; combinationSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; candidates, <span class="keyword">int</span> target) &#123;</span><br><span class="line">    sort(candidates.begin(), candidates.end());</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp;</span><br><span class="line">    back_track(candidates, tmp, <span class="number">0</span>, target, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> results;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="040-Combination-Sum-II"><a href="#040-Combination-Sum-II" class="headerlink" title="040-Combination-Sum-II"></a><a href="https://leetcode.com/problems/combination-sum-ii/" target="_blank" rel="noopener">040-Combination-Sum-II</a></h3><p>This problem is a strengthen version of P39. It requires that the combination items in the final set is unique.</p>
<p>So simply modify the <code>DFS</code> algorithm in P39, we move the item to the next distinct number after current number. And this will make the final answers not repeat.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; results;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">back_track</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; candidates, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp, <span class="keyword">int</span> index, <span class="keyword">int</span> target, <span class="keyword">int</span> sum)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = index; i &lt; candidates.size(); i++) &#123;</span><br><span class="line">        sum += candidates[i];</span><br><span class="line">        <span class="keyword">if</span> (sum == target) &#123;</span><br><span class="line">            tmp.push_back(candidates[i]);</span><br><span class="line">            results.push_back(tmp);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (sum &gt; target) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            tmp.push_back(candidates[i]);</span><br><span class="line">            back_track(candidates, tmp, i + <span class="number">1</span>, target, sum);</span><br><span class="line">            sum -= candidates[i];</span><br><span class="line">            tmp.pop_back();</span><br><span class="line">            <span class="keyword">if</span> (i &lt; candidates.size() - <span class="number">1</span> &amp;&amp; candidates[i] == candidates[i + <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="keyword">int</span> j = i + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">while</span> (j &lt; candidates.size() &amp;&amp; candidates[i] == candidates[j]) j++;</span><br><span class="line">                i = j - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; combinationSum2(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; candidates, <span class="keyword">int</span> target) &#123;</span><br><span class="line">    sort(candidates.begin(), candidates.end());</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp;</span><br><span class="line">    back_track(candidates, tmp, <span class="number">0</span>, target, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> results;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="041-First-Missing-Positive"><a href="#041-First-Missing-Positive" class="headerlink" title="041-First-Missing-Positive"></a><a href="https://leetcode.com/problems/first-missing-positive/" target="_blank" rel="noopener">041-First-Missing-Positive</a></h3><p>This problem has one very fast solution, which is making an array to represent whether corresponding number appears, if appears, then we put <code>1</code> in corresponding index to represent it, and to loop this array to find the final result.</p>
<p>But, in this problem, we need to implement the algorithm in $O(n)$ time complexity and constant space complexity. </p>
<p>So we need to use the origin array to do the representation work. I use some tricks here, I use <code>INT_MAX</code> to represent that the number is currently be seen. And finally to check the origin array for which index do not contain <code>INT_MAX</code>, then we can judge that this is the first missing positive integer.</p>
<p>But using this solution there may be some bugs, like if the array contains <code>INT_MAX</code> and there maybe some bugs here. So one day I will update the solution with another valid solution. So my thought implementation is below:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">firstMissingPositive</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.size() == <span class="number">1</span> &amp;&amp; nums.front() == INT_MAX) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] &gt; <span class="number">0</span> &amp;&amp; nums[i] != INT_MAX) &#123;</span><br><span class="line">            <span class="keyword">int</span> tmp = nums[i];</span><br><span class="line">            <span class="keyword">for</span> (; ;) &#123;</span><br><span class="line">                <span class="keyword">if</span> (tmp &gt; nums.size()) <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">int</span> t = nums[tmp - <span class="number">1</span>];</span><br><span class="line">                nums[tmp - <span class="number">1</span>] = INT_MAX;</span><br><span class="line">                tmp = t;</span><br><span class="line">                <span class="keyword">if</span> (tmp == INT_MAX || tmp &lt; <span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> index;</span><br><span class="line">    <span class="keyword">for</span> (index = <span class="number">0</span>; index &lt; nums.size(); index++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[index] != INT_MAX) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> index + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="042-Trapping-Rain-Water"><a href="#042-Trapping-Rain-Water" class="headerlink" title="042-Trapping-Rain-Water"></a><a href="https://leetcode.com/problems/trapping-rain-water/" target="_blank" rel="noopener">042-Trapping-Rain-Water</a></h3><p>In this problem, we should know which situation the range will trapping water. The answer is that the range will form a <code>U</code> like shape. The left side is shorter than right side or the opposite.</p>
<p>Take an example, we need to find that <code>U</code> like shape in the input sequence. Take input as <code>[0,1,0,2,1,0,1,4,2,1,2,1,3]</code>. Then we can find the <code>U</code> like shape which will contain the water, which are <code>[[1, 1], [3, 2]]</code> and <code>[[3, 2], [7, 4]]</code> and <code>[[7, 4], [12, 3]]</code>. </p>
<p>There are two situations that can form the <code>U</code> shape, first is that the left side is shorter or equal to the right side, meanwhile the middle elements are all lower than the left side. Second is left side is larger than the right side, which is the reverse situation of thr first, and all elements in the range should lower than the right side.</p>
<p>In the second case, we should to find the maximum element among the right side elements, since it will keep the water.</p>
<p>And once we determine the range, the calculation is easy to understand, and just update the index to the right side index and continue. The overall time complexity is $O(n)$.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">FindEndIndex</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; height, <span class="keyword">int</span>&amp; start_pos, <span class="keyword">int</span>&amp; local_max, <span class="keyword">int</span>&amp; local_index)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = start_pos + <span class="number">1</span>; i &lt; height.size(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (height[i] &gt;= height[start_pos]) &#123;</span><br><span class="line">            index = i;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (height[i] &gt;= local_max) &#123;</span><br><span class="line">                local_max = height[i];</span><br><span class="line">                local_index = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> index;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">calsum</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; height, <span class="keyword">const</span> <span class="keyword">int</span>&amp; start_pos, <span class="keyword">const</span> <span class="keyword">int</span>&amp; end_pos)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (height[start_pos] &lt;= height[end_pos]) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = start_pos + <span class="number">1</span>; i &lt; end_pos; i++) sum += <span class="built_in">abs</span>(height[start_pos] - height[i]);</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = end_pos - <span class="number">1</span>; i &gt; start_pos; i--) &#123;</span><br><span class="line">            sum += <span class="built_in">abs</span>(height[end_pos] - height[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">trap</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; height)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// find first not zero index</span></span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; height.size(); ) &#123;</span><br><span class="line">        <span class="keyword">if</span> (height[i] == <span class="number">0</span> || i == height.size() - <span class="number">1</span>) &#123;</span><br><span class="line">            i++;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> local_max = INT_MIN, local_index = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">int</span> end_position = FindEndIndex(height, i, local_max, local_index);</span><br><span class="line">        <span class="keyword">if</span> (end_position == <span class="number">-1</span>) &#123;</span><br><span class="line">            sum += calsum(height, i, local_index);</span><br><span class="line">            i = local_index;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            sum += calsum(height, i, end_position);</span><br><span class="line">            i = end_position;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="043-Multiply-Strings"><a href="#043-Multiply-Strings" class="headerlink" title="043-Multiply-Strings"></a><a href="https://leetcode.com/problems/multiply-strings/" target="_blank" rel="noopener">043-Multiply-Strings</a></h3><p>Just simulate the process of the multiplication. Using the <code>carry</code> bit to represent the carry from low to high. And set result to corrsponding position. And remember that after one turn multiplication, we should update the <code>carry</code> bit to the next high position.</p>
<p>And last to find the first not zero index, since the final result will be this format <code>0123</code>, so we need to delete the first character <code>0</code>. This need to judge specially.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">multiply</span><span class="params">(<span class="built_in">string</span> num1, <span class="built_in">string</span> num2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> length = num1.length() + num2.length();</span><br><span class="line">    <span class="built_in">string</span> result;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) result += <span class="string">"0"</span>;</span><br><span class="line">    <span class="keyword">int</span> carry = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = num2.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        carry = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = num1.size() - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">            <span class="keyword">int</span> num_result_index = result.size() - (num2.size() - i + num1.size() - j - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">int</span> num_in_result = result[num_result_index] - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">int</span> current_num = (num1[j] - <span class="string">'0'</span>) * (num2[i] - <span class="string">'0'</span>) + num_in_result + carry;</span><br><span class="line">            carry = current_num / <span class="number">10</span>;</span><br><span class="line">            result[num_result_index] = <span class="string">'0'</span> + current_num % <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">                result[num_result_index - <span class="number">1</span>] += carry;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> not_zero_index = result.find_first_not_of(<span class="string">"0"</span>);</span><br><span class="line">    <span class="keyword">return</span> not_zero_index == <span class="number">-1</span> ? <span class="string">"0"</span> : result.substr(not_zero_index);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="045-Jump-Game-II"><a href="#045-Jump-Game-II" class="headerlink" title="045-Jump Game II"></a><a href="https://leetcode.com/problems/jump-game-ii/" target="_blank" rel="noopener">045-Jump Game II</a></h3><p>This problem can simply solve by <code>greedy</code> algorithm. For every step, we scan to find which position can we reach the farest, then we choose this position as next start position. And once we find one position can directly reach the end position, then just return the current result.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">jump</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.size() &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> times = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); ) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i + nums[i] &gt;= nums.size() - <span class="number">1</span>) &#123;</span><br><span class="line">            times++;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> max_num = INT_MIN, max_index = i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt;= min(i + nums[i], <span class="keyword">int</span>(nums.size() - <span class="number">1</span>)); j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (j + nums[j] &gt;= max_num) &#123;</span><br><span class="line">                max_num = j + nums[j];</span><br><span class="line">                max_index = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        i = max_index;</span><br><span class="line">        times++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> times;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="046-Permutations"><a href="#046-Permutations" class="headerlink" title="046-Permutations"></a><a href="https://leetcode.com/problems/permutations/" target="_blank" rel="noopener">046-Permutations</a></h3><p>Using one vector <code>state</code> to remember those numbers already in queue, then just apply <code>bfs</code> can we find out all the permutations.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs_46</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; state, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; tmp, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; result)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (tmp.size() == nums.size()) &#123;</span><br><span class="line">        result.push_back(tmp);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (state[i] == <span class="number">0</span>) &#123;</span><br><span class="line">            state[i] = <span class="number">1</span>; tmp.push_back(nums[i]);</span><br><span class="line">            bfs_46(nums, state, tmp, result);</span><br><span class="line">            state[i] = <span class="number">0</span>; tmp.pop_back();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; permute(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line">    <span class="keyword">if</span> (nums.size() == <span class="number">1</span>) &#123;</span><br><span class="line">        result.push_back(nums);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; state(nums.size(), <span class="number">0</span>); <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp;</span><br><span class="line">    bfs_46(nums, state, tmp, result);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="047-Permutations-II"><a href="#047-Permutations-II" class="headerlink" title="047-Permutations II"></a><a href="https://leetcode.com/problems/permutations-ii/" target="_blank" rel="noopener">047-Permutations II</a></h3><p>This problem is  trying to find unique permutations from the input  array. So just a little modification can solve the problem.</p>
<ul>
<li>First, sorting the array first</li>
<li>When we have find one position, next step we move it to the next distinct number position.</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs_47</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; state, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; tmp, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; result)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (tmp.size() == nums.size()) &#123;</span><br><span class="line">        result.push_back(tmp);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); ) &#123;</span><br><span class="line">        <span class="keyword">if</span> (state[i] == <span class="number">0</span>) &#123;</span><br><span class="line">            state[i] = <span class="number">1</span>; tmp.push_back(nums[i]);</span><br><span class="line">            bfs_47(nums, state, tmp, result);</span><br><span class="line">            state[i] = <span class="number">0</span>; tmp.pop_back();</span><br><span class="line">            <span class="keyword">int</span> j;</span><br><span class="line">            <span class="keyword">for</span> (j = i; j &lt; nums.size(); j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[j] != nums[i]) &#123;</span><br><span class="line">                    i = j;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (j == nums.size()) <span class="keyword">return</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> i++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; permuteUnique(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line">    <span class="keyword">if</span> (nums.size() == <span class="number">1</span>) &#123;</span><br><span class="line">        result.push_back(nums);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(nums.begin(), nums.end());</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; state(nums.size(), <span class="number">0</span>); <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp;</span><br><span class="line">    bfs_47(nums, state, tmp, result);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="048-Rotate-Image"><a href="#048-Rotate-Image" class="headerlink" title="048-Rotate Image"></a><a href="https://leetcode.com/problems/rotate-image/" target="_blank" rel="noopener">048-Rotate Image</a></h3><p>Rotate the corresponding 4 positions, and remember that the rotated position should not rotate again.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swapRotate</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; matrix, <span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = matrix[i][j];</span><br><span class="line">    matrix[i][j] = matrix[len - j][i];</span><br><span class="line">    matrix[len - j][i] = matrix[len - i][len - j];</span><br><span class="line">    matrix[len - i][len - j] = matrix[j][len - i];</span><br><span class="line">    matrix[j][len - i] = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rotate</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; matrix)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = matrix.size();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len - i - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; len - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            swapRotate(matrix, i, j, len - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="138-Copy-List-with-Random-Pointer"><a href="#138-Copy-List-with-Random-Pointer" class="headerlink" title="138-Copy-List-with-Random-Pointer"></a><a href="https://leetcode.com/problems/copy-list-with-random-pointer/" target="_blank" rel="noopener">138-Copy-List-with-Random-Pointer</a></h3><p>This problem is trying to make a deep copy of the origin list. The main thought is to find the random pointer’s position in the origin list, so here I find two solutions for this problem.</p>
<p>(1) Using unordered_map</p>
<ul>
<li>Using one vector to store the new list</li>
<li>Using one map to map the <code>Node*</code> to <code>index</code>.</li>
<li>Loop the vector, link the next pointer.</li>
<li>Then loop the origin list, link the random pointer</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Node* <span class="title">copyRandomList</span><span class="params">(Node* head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">nullptr</span>) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    Node* dummy = head; <span class="built_in">unordered_map</span>&lt;Node*, <span class="keyword">int</span>&gt; node_index_map; <span class="keyword">int</span> c = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (dummy != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        node_index_map[dummy] = c++;</span><br><span class="line">        dummy = dummy-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    Node* nodes[c]; nodes[<span class="number">0</span>] = <span class="keyword">new</span> Node(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; c; i++) &#123;</span><br><span class="line">        nodes[i] = <span class="keyword">new</span> Node(<span class="number">0</span>);</span><br><span class="line">        nodes[i - <span class="number">1</span>]-&gt;next = nodes[i];</span><br><span class="line">    &#125;</span><br><span class="line">    c = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        nodes[c]-&gt;val = head-&gt;val;</span><br><span class="line">        nodes[c++]-&gt;random = head-&gt;random == <span class="literal">nullptr</span> ? <span class="literal">nullptr</span> : nodes[node_index_map[head-&gt;random]];</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nodes[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>(2) Not using map</p>
<p>If not using map, then we need to connect the new list and the origin list first. So the procedue can be:</p>
<ul>
<li>Copy the origin list, and insert behind the origin list for every node corresponding. For example: <code>1-&gt;2-&gt;3</code> -&gt; <code>1-&gt;1&#39;-&gt;2-&gt;2&#39;-&gt;3-&gt;3&#39;</code>.</li>
<li>Then link the random pointer for the new list.</li>
<li>Break the connection between new list and origin list.</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Node* <span class="title">copyRandomList</span><span class="params">(Node* head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">nullptr</span>) <span class="keyword">return</span> head;</span><br><span class="line">    Node* dummy = <span class="keyword">new</span> Node(<span class="number">0</span>); Node* t = dummy; Node* h = head; <span class="built_in">vector</span>&lt;Node*&gt; vec;</span><br><span class="line">    Node* tmp = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        dummy-&gt;val = head-&gt;val;</span><br><span class="line">        dummy-&gt;random = head;</span><br><span class="line">        vec.push_back(dummy);</span><br><span class="line">        tmp = head; dummy-&gt;next = head-&gt;next; head = head-&gt;next;</span><br><span class="line">        tmp-&gt;next = dummy; dummy = <span class="keyword">new</span> Node(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vec.size(); i++)&#123;</span><br><span class="line">        dummy = vec[i];</span><br><span class="line">        <span class="keyword">if</span> (dummy-&gt;random != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            dummy-&gt;random = (dummy-&gt;random-&gt;random == <span class="literal">nullptr</span>) ? <span class="literal">nullptr</span> : dummy-&gt;random-&gt;random-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    head = h;</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        head-&gt;next = (head-&gt;next == <span class="literal">nullptr</span>) ? <span class="literal">nullptr</span> : head-&gt;next-&gt;next;</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    dummy = t;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vec.size() - <span class="number">1</span>; i++) vec[i]-&gt;next = vec[i + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="332-Reconstruct-Itinerary"><a href="#332-Reconstruct-Itinerary" class="headerlink" title="332-Reconstruct-Itinerary"></a><a href="https://leetcode.com/problems/reconstruct-itinerary/" target="_blank" rel="noopener">332-Reconstruct-Itinerary</a></h3><p>This problem is using <code>BFS</code> algorithm with <code>backtracking</code> to solve. We use one unordered_map to represent all the tickets. And each <code>from</code> station is link with another map, which is the next station and the times. The reason we use map here is that when we perform <code>BFS</code> the <code>to</code> station is already in lexical order, so once we find one valid solution, we can assure this answer is what we want.</p>
<p>So just perform <code>BFS</code> algorithm from initial station <code>JFK</code> and check whether the ticket is used up, this can be represented as <code>iter-&gt;second</code>, which means the times. And once the final vector’s size is <code>tickets + 1</code>, then we find our answer.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">bfs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt;&amp; tickets, <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; result, <span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;&gt;&amp; tickets_map)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (result.size() == tickets.size() + <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="built_in">string</span> from = result.back();</span><br><span class="line">    <span class="keyword">auto</span>&amp; m = tickets_map[from];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> iter = m.begin(); iter != m.end(); iter++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (iter-&gt;second &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            result.push_back(iter-&gt;first);</span><br><span class="line">            iter-&gt;second -= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">bool</span> flag = bfs(tickets, result, tickets_map);</span><br><span class="line">            <span class="keyword">if</span> (!flag) &#123;</span><br><span class="line">                result.pop_back();</span><br><span class="line">                iter-&gt;second += <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">return</span> flag;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; findItinerary(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&gt;&amp; tickets) &#123;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;&gt; tickets_map;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; ticket : tickets) &#123;</span><br><span class="line">        tickets_map[ticket.front()][ticket.back()] += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; result; result.push_back(<span class="string">"JFK"</span>);</span><br><span class="line">    bfs(tickets, result, tickets_map);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="686-Repeated-String-Match"><a href="#686-Repeated-String-Match" class="headerlink" title="686-Repeated-String-Match"></a><a href="https://leetcode.com/problems/repeated-string-match/" target="_blank" rel="noopener">686-Repeated-String-Match</a></h3><p>In this problem, I try to solve this problem from three situaions:</p>
<ul>
<li>format like <code>abcd</code> and <code>bcdabc</code></li>
<li>format like <code>abcd</code> and <code>ab</code></li>
<li>format like <code>abcd</code> and <code>cd(n*abcd)ab</code></li>
</ul>
<p><strong>(1) First situation</strong><br>Expand string <code>a</code> to <code>2a</code> and judge whether <code>b</code> is in <code>2a</code>. If in, return 2, else return -1.</p>
<p><strong>(2) Second situation</strong><br>If <code>b</code> in <code>a</code>, then just return 1.</p>
<p><strong>(3) Third situation</strong><br>Using <code>ba</code> to represent the first position string <code>a</code> in <code>b</code>. If <code>a</code> not in <code>b</code>, then just return -1.<br>Using <code>tmp_index</code> to represent the first position which following sequence is not equal to <code>a</code> after position <code>ba</code>.<br>Using <code>times</code> to represent the times <code>a</code> occurs in <code>b</code>.<br>For example, in <code>abcd</code> and <code>cdabcdabc</code>, <code>ba = 2 and tmp_index = 6 and times = 1</code>.</p>
<p>Then we return the final result in these situations(assume that <code>a</code> is <code>abcd</code>):</p>
<ul>
<li><code>abcdabcd</code>: return <code>times</code></li>
<li><code>abcdabc</code> or <code>bcdabcd</code>: return <code>times + 1</code>.</li>
<li><code>abcdabce</code> or <code>abcde</code>: return <code>-1</code></li>
<li><code>bcdabcdab</code>: return <code>times + 2</code>.</li>
</ul>
<p>Explain how to judge the final situation, we can take the rest parts after we removing all the repeated <code>a</code>. In the final example, we can get two parts, <code>bcd</code> and <code>ab</code>. We simply compare the two strings with original <code>abcd</code>, we can see the b’s front part <code>bcd</code> can match the a’s last part, the b’s last part <code>ab</code> can match the a’s front part, so this situation we judge that it can concat by repreated <code>2a</code>.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// processing like abcd dabcdab this format</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">match</span><span class="params">(<span class="built_in">string</span>&amp; a, <span class="built_in">string</span>&amp; b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> la = a.length(); <span class="keyword">int</span> lb = b.length(); <span class="keyword">int</span> ba = b.find(a);</span><br><span class="line">    <span class="keyword">if</span> (ba == <span class="number">-1</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">int</span> times = <span class="number">0</span>; <span class="keyword">int</span> tmp_index = ba;</span><br><span class="line">    <span class="keyword">for</span> (; tmp_index &lt; lb; tmp_index += la) &#123;</span><br><span class="line">        <span class="keyword">if</span> (b.substr(tmp_index, la) != a) <span class="keyword">break</span>;</span><br><span class="line">        times++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (tmp_index == lb &amp;&amp; ba == <span class="number">0</span>) <span class="keyword">return</span> times;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (ba &gt;= la || lb - tmp_index &gt;= la) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = la - ba; i &lt; ba; i++, j++) <span class="keyword">if</span> (a[j] != b[i]) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = tmp_index; j &lt; lb; i++, j++) <span class="keyword">if</span> (a[i] != b[j]) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">return</span> (ba == <span class="number">0</span> || tmp_index == lb) ? times + <span class="number">1</span> : times + <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">repeatedStringMatch</span><span class="params">(<span class="built_in">string</span> A, <span class="built_in">string</span> B)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> la = A.length(); <span class="keyword">int</span> lb = B.length();</span><br><span class="line">    <span class="keyword">if</span> (lb &lt;= <span class="number">2</span> * (la - <span class="number">1</span>)) &#123;</span><br><span class="line">        <span class="keyword">int</span> ab = A.find(B), ba = B.find(A);</span><br><span class="line">        <span class="keyword">if</span> (ab == <span class="number">-1</span> &amp;&amp; ba == <span class="number">-1</span>) &#123; <span class="comment">// abcd dab</span></span><br><span class="line">            <span class="built_in">string</span> a_2 = A + A;</span><br><span class="line">            <span class="keyword">return</span> (a_2.find(B) == <span class="number">-1</span>) ? <span class="number">-1</span> : <span class="number">2</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (ab != <span class="number">-1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> match(A, B);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> match(A, B);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/leetcode/" rel="tag"><i class="fa fa-tag"></i> leetcode</a>
          
            <a href="/tags/algorithm/" rel="tag"><i class="fa fa-tag"></i> algorithm</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/07/28/cs224n-papers/" rel="next" title="cs224n-papers">
                <i class="fa fa-chevron-left"></i> cs224n-papers
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/08/19/3d-detection-paper-notes/" rel="prev" title="3d-detection-paper-notes">
                3d-detection-paper-notes <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="https://avatars2.githubusercontent.com/u/28039767?s=400&u=43e653f3e1abe2fa56182133d26fc581ed4b2b40&v=4"
                alt="huangyifei" />
            
              <p class="site-author-name" itemprop="name">huangyifei</p>
              <p class="site-description motion-element" itemprop="description">Master student majored in computer science of zhejiang university.</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/MySuperSoul" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:huangyifei0910@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#001-two-sum"><span class="nav-number">1.</span> <span class="nav-text">001-two-sum</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#002-Add-Two-Numbers"><span class="nav-number">2.</span> <span class="nav-text">002-Add-Two-Numbers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#003-Longest-Substring-Without-Repeating-Characters"><span class="nav-number">3.</span> <span class="nav-text">003-Longest-Substring-Without-Repeating-Characters</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#004-Median-of-Two-Sorted-Arrays"><span class="nav-number">4.</span> <span class="nav-text">004-Median of Two Sorted Arrays</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#005-Longest-Palindromic-Substring"><span class="nav-number">5.</span> <span class="nav-text">005-Longest-Palindromic-Substring</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#006-ZigZag-Conversion"><span class="nav-number">6.</span> <span class="nav-text">006-ZigZag-Conversion</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#007-Reverse-Integer"><span class="nav-number">7.</span> <span class="nav-text">007-Reverse-Integer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#008-String-to-Integer-atoi"><span class="nav-number">8.</span> <span class="nav-text">008-String to Integer (atoi)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#009-Palindrome-Number"><span class="nav-number">9.</span> <span class="nav-text">009-Palindrome-Number</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#011-Container-With-Most-Water"><span class="nav-number">10.</span> <span class="nav-text">011-Container-With-Most-Water</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#012-Integer-to-Roman"><span class="nav-number">11.</span> <span class="nav-text">012-Integer-to-Roman</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#013-Roman-to-Integer"><span class="nav-number">12.</span> <span class="nav-text">013-Roman-to-Integer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#014-Longest-Common-Prefix"><span class="nav-number">13.</span> <span class="nav-text">014-Longest-Common-Prefix</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#015-3Sum"><span class="nav-number">14.</span> <span class="nav-text">015-3Sum</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#016-3Sum-Closest"><span class="nav-number">15.</span> <span class="nav-text">016-3Sum-Closest</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#017-Letter-Combinations-of-a-Phone-Number"><span class="nav-number">16.</span> <span class="nav-text">017-Letter-Combinations-of-a-Phone-Number</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#018-4Sum"><span class="nav-number">17.</span> <span class="nav-text">018-4Sum</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#019-Remove-Nth-Node-From-End-of-List"><span class="nav-number">18.</span> <span class="nav-text">019-Remove-Nth-Node-From-End-of-List</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#020-Valid-Parentheses"><span class="nav-number">19.</span> <span class="nav-text">020-Valid-Parentheses</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#021-Merge-Two-Sorted-Lists"><span class="nav-number">20.</span> <span class="nav-text">021-Merge-Two-Sorted-Lists</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#022-Generate-Parentheses"><span class="nav-number">21.</span> <span class="nav-text">022-Generate-Parentheses</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#023-Merge-k-Sorted-Lists"><span class="nav-number">22.</span> <span class="nav-text">023-Merge-k-Sorted-Lists</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#024-Swap-Nodes-in-Pairs"><span class="nav-number">23.</span> <span class="nav-text">024-Swap-Nodes-in-Pairs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#025-Reverse-Nodes-in-k-Group"><span class="nav-number">24.</span> <span class="nav-text">025-Reverse-Nodes-in-k-Group</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#026-Remove-Duplicates-from-Sorted-Array"><span class="nav-number">25.</span> <span class="nav-text">026-Remove-Duplicates-from-Sorted-Array</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#027-Remove-Element"><span class="nav-number">26.</span> <span class="nav-text">027-Remove-Element</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#028-Implement-strStr"><span class="nav-number">27.</span> <span class="nav-text">028-Implement-strStr()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#029-Divide-Two-Integers"><span class="nav-number">28.</span> <span class="nav-text">029-Divide-Two-Integers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#030-Substring-with-Concatenation-of-All-Words"><span class="nav-number">29.</span> <span class="nav-text">030-Substring-with-Concatenation-of-All-Words</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#031-Next-Permutation"><span class="nav-number">30.</span> <span class="nav-text">031-Next-Permutation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#032-Longest-Valid-Parentheses"><span class="nav-number">31.</span> <span class="nav-text">032-Longest-Valid-Parentheses</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#033-Search-in-Rotated-Sorted-Array"><span class="nav-number">32.</span> <span class="nav-text">033-Search in Rotated Sorted Array</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#034-Find-First-and-Last-Position-of-Element-in-Sorted-Array"><span class="nav-number">33.</span> <span class="nav-text">034-Find-First-and-Last-Position-of-Element-in-Sorted-Array</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#035-Search-Insert-Position"><span class="nav-number">34.</span> <span class="nav-text">035-Search-Insert-Position</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#036-Valid-Sudoku"><span class="nav-number">35.</span> <span class="nav-text">036-Valid-Sudoku</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#037-Sudoku-Solver"><span class="nav-number">36.</span> <span class="nav-text">037-Sudoku-Solver</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#038-Count-and-Say"><span class="nav-number">37.</span> <span class="nav-text">038-Count-and-Say</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#039-Combination-Sum"><span class="nav-number">38.</span> <span class="nav-text">039-Combination-Sum</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#040-Combination-Sum-II"><span class="nav-number">39.</span> <span class="nav-text">040-Combination-Sum-II</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#041-First-Missing-Positive"><span class="nav-number">40.</span> <span class="nav-text">041-First-Missing-Positive</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#042-Trapping-Rain-Water"><span class="nav-number">41.</span> <span class="nav-text">042-Trapping-Rain-Water</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#043-Multiply-Strings"><span class="nav-number">42.</span> <span class="nav-text">043-Multiply-Strings</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#045-Jump-Game-II"><span class="nav-number">43.</span> <span class="nav-text">045-Jump Game II</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#046-Permutations"><span class="nav-number">44.</span> <span class="nav-text">046-Permutations</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#047-Permutations-II"><span class="nav-number">45.</span> <span class="nav-text">047-Permutations II</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#048-Rotate-Image"><span class="nav-number">46.</span> <span class="nav-text">048-Rotate Image</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#138-Copy-List-with-Random-Pointer"><span class="nav-number">47.</span> <span class="nav-text">138-Copy-List-with-Random-Pointer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#332-Reconstruct-Itinerary"><span class="nav-number">48.</span> <span class="nav-text">332-Reconstruct-Itinerary</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#686-Repeated-String-Match"><span class="nav-number">49.</span> <span class="nav-text">686-Repeated-String-Match</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; 2019/06/17 &mdash; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heartbeat"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">huangyifei</span>

  
</div>


  <div class="powered-by">
  <i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
    本站访客数:<span id="busuanzi_value_site_uv"></span>
  </span>
</div>
  <!-- <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div> -->



  <span class="post-meta-divider">|</span>



  <!-- <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div> -->




<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共35.5k字</span>
</div>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/custom/custom.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: '5pTlbsRYAO0H1vuT7jkHu7Ut-gzGzoHsz',
        appKey: 'yfSXCC53lgKMxeYS3UtderOT',
        placeholder: 'Comment here!',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("5pTlbsRYAO0H1vuT7jkHu7Ut-gzGzoHsz", "yfSXCC53lgKMxeYS3UtderOT");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/z16.model.json"},"display":{"position":"right","width":150,"height":225},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script><!-- hexo-inject:begin --><!-- hexo-inject:end --></body>
</html>
